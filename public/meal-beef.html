<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beef Recipes - FuelFire</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .meal-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .meal-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }
        
        .meal-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }
        
        .meal-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #8B4513, #A0522D);
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        .meal-image.has-photo {
            background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3));
        }
        
        .meal-image.has-photo .category-icon {
            display: none;
        }
        
        .difficulty-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .meal-content {
            padding: 20px;
        }
        
        .meal-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
        }
        
        .meal-description {
            color: #666;
            font-size: 14px;
            margin-bottom: 15px;
            line-height: 1.4;
        }
        
        .meal-stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .meal-time {
            color: #28a745;
            font-size: 13px;
            font-weight: 600;
        }
        
        .rating-stars {
            color: #ff9500;
            font-size: 14px;
        }
        
        .meal-nutrition {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .nutrition-item {
            text-align: center;
            background: #f8f9ff;
            padding: 8px 4px;
            border-radius: 8px;
        }
        
        .nutrition-value {
            font-weight: bold;
            color: var(--primary);
            font-size: 14px;
        }
        
        .nutrition-label {
            font-size: 11px;
            color: #666;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
        }

        .modal-content {
            background-color: white;
            margin: 10px;
            padding: 0;
            border-radius: 20px;
            max-width: 500px;
            margin: 20px auto;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            background: linear-gradient(135deg, #8B4513, #A0522D);
            color: white;
            padding: 20px;
            border-radius: 20px 20px 0 0;
            position: relative;
        }

        .close-modal {
            color: white;
            float: right;
            font-size: 28px;
            font-weight: bold;
            background: none;
            border: none;
            cursor: pointer;
            position: absolute;
            right: 15px;
            top: 15px;
        }

        .modal-body {
            padding: 20px;
        }

        .ingredient-list {
            margin: 15px 0;
        }

        .ingredient-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            padding: 5px 0;
        }

        .ingredient-checkbox {
            margin-right: 10px;
        }

        .instruction-list {
            margin: 15px 0;
        }

        .instruction-item {
            margin-bottom: 12px;
            padding: 10px;
            background: #f8f9ff;
            border-radius: 8px;
            border-left: 4px solid var(--primary);
        }

        .log-recipe-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            margin-top: 20px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="phone-container">
        <div class="screen">
            <div class="status-bar">
                <span id="time">9:41</span>
                <span>100%</span>
            </div>
            
            <div class="header">
                <div class="hamburger" onclick="toggleSidebar()">‚ò∞</div>
                <div class="header-title">ü•© Beef Recipes</div>
            </div>
            
            <div class="content">
                <div style="padding: 20px;">
                    <div style="text-align: center; margin-bottom: 30px;">
                        <h2 style="color: var(--primary); margin-bottom: 10px;">ü•© Lean Beef Recipes</h2>
                        <p style="color: #666; font-size: 14px;">10 lean beef cuts for serious lifters - sirloin, tenderloin, and 93/7 ground beef only</p>
                        <button onclick="goBack()" style="background: #6c757d; color: white; border: none; padding: 8px 16px; border-radius: 15px; font-size: 12px; margin-top: 10px;">‚Üê Back to Categories</button>
                    </div>
                    
                    <!-- Meals Grid -->
                    <div id="meals-container" class="meal-grid">
                        <!-- Meals will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Overlay for sidebar -->
    <div class="overlay" onclick="toggleSidebar()"></div>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-brand">üî• FuelFire</div>
        </div>
        <div class="sidebar-menu">
            <div class="menu-item" onclick="goToPage('index.html')">üè† Home</div>
            <div class="menu-item" onclick="goToPage('index.html')">üí™ Create Workout</div>
            <div class="menu-item" onclick="goToPage('index.html')">üìö Saved Workouts</div>
            <div class="menu-item" onclick="goToPage('index.html')">üìä Track Workouts</div>
            <div class="menu-item" onclick="goToPage('calorie-tracker.html')">üî• Calorie Tracker</div>
            <div class="menu-item" onclick="goToPage('enhanced-diet-quiz.html')">üéØ Diet Creation</div>
            <div class="menu-item" onclick="goToPage('meal-plans.html')">üçΩÔ∏è Meal Plans</div>
            <div class="menu-item active" onclick="goToPage('meal-ideas.html')">üí° Meal Ideas</div>
            <div class="menu-item" onclick="goToPage('supplements.html')">üíä Supplements</div>
            <div class="menu-item" onclick="goToPage('index.html')">üìà Progress & Analytics</div>
        </div>
    </div>
    
    <!-- Recipe Modal -->
    <div id="recipe-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close-modal" onclick="closeModal()">&times;</button>
                <h2 id="modal-title">Recipe Title</h2>
                <div id="modal-subtitle" style="opacity: 0.9; margin-top: 8px;"></div>
            </div>
            <div class="modal-body">
                <div id="modal-content-body">
                    <!-- Content will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // BULK MODE Beef Recipe Database
        const bulkModeRecipes = {
            'male-bulk': [
                {
                    name: "‚≠ê WEEKLY BEEF & RICE POWER BOWLS ‚≠ê",
                    description: "üìÖ Prep 7 MASSIVE beef bowls in 1 hour | Sunday = Week Sorted!",
                    time: "60 mins prep (7 meals)",
                    difficulty: 2,
                    rating: 5,
                    calories: 1420,
                    protein: 58,
                    carbs: 145,
                    fat: 42,
                    sugar: 8,
                    icon: "üëë",
                    mealPrepChampion: true,
                    ingredients: [
                        "üõí WEEKLY SHOPPING LIST:",
                        "5 lbs lean beef sirloin, cubed",
                        "14 cups jasmine rice (2 lbs dry rice)",
                        "14 tbsp olive oil",
                        "7 large sweet potatoes",
                        "14 cups broccoli florets (3 large heads)",
                        "7 tbsp low-sodium soy sauce",
                        "7 avocados (buy 3 ripe, 4 unripe)",
                        "Garlic powder, ginger powder, salt, pepper",
                        "üì¶ Need: 7 large meal prep containers"
                    ],
                    instructions: [
                        "üî• SUNDAY MEAL PREP POWER HOUR:",
                        "Cook 14 cups jasmine rice in rice cooker (45 mins)",
                        "While rice cooks: Season 5lbs beef with garlic, salt, pepper",
                        "Cube sweet potatoes, steam for 15 minutes until tender",
                        "Steam broccoli in batches until bright green (5 mins each)",
                        "Heat oil in large skillet, sear beef in 3 batches",
                        "Cook each batch 6-8 minutes until browned",
                        "Mix cooked beef with soy sauce and ginger",
                        "ASSEMBLY LINE: Divide rice into 7 containers",
                        "Add beef, sweet potatoes, broccoli to each",
                        "Store 5 containers in fridge, 2 in freezer",
                        "Add fresh avocado just before eating",
                        "üí™ Reheat 2-3 mins, add avocado = BEAST MODE!"
                    ]
                },
                {
                    name: "Triple Beef Protein Burrito",
                    description: "Huge burrito with 10oz ground beef, rice, beans & cheese",
                    time: "25 mins",
                    difficulty: 2,
                    rating: 5,
                    calories: 1350,
                    protein: 62,
                    carbs: 120,
                    fat: 48,
                    sugar: 6,
                    icon: "üåØ",
                    ingredients: [
                        "10 oz lean ground beef (93/7)",
                        "1 large whole wheat tortilla",
                        "1 cup brown rice, cooked",
                        "3/4 cup black beans",
                        "1/2 cup sharp cheddar cheese",
                        "1/4 cup Greek yogurt",
                        "2 tbsp salsa",
                        "1 tbsp taco seasoning",
                        "1/4 cup diced onions",
                        "Lettuce and tomato"
                    ],
                    instructions: [
                        "Brown ground beef in large pan",
                        "Add onions and taco seasoning, cook 3 minutes",
                        "Warm tortilla in microwave for 30 seconds",
                        "Layer rice, beans, and beef mixture",
                        "Add cheese, Greek yogurt, and salsa",
                        "Top with lettuce and tomato",
                        "Roll tightly, tucking in sides",
                        "Cut in half and serve - BULKING BEAST!"
                    ]
                },
                {
                    name: "Beef & Sweet Potato Mass Gainer",
                    description: "10oz beef roast with massive sweet potato and quinoa",
                    time: "45 mins",
                    difficulty: 3,
                    rating: 5,
                    calories: 1280,
                    protein: 55,
                    carbs: 138,
                    fat: 35,
                    sugar: 22,
                    icon: "üç†",
                    ingredients: [
                        "10 oz beef chuck roast, lean",
                        "2 large sweet potatoes (16 oz)",
                        "1 cup quinoa, cooked",
                        "2 tbsp coconut oil",
                        "2 tbsp honey",
                        "1 tsp cinnamon",
                        "2 tsp thyme",
                        "1 tsp rosemary",
                        "Salt and pepper",
                        "1 cup green beans"
                    ],
                    instructions: [
                        "Season beef with thyme, rosemary, salt and pepper",
                        "Sear beef in hot pan, then bake at 375¬∞F for 25 minutes",
                        "Cube sweet potatoes and toss with coconut oil and honey",
                        "Roast sweet potatoes for 30 minutes until caramelized",
                        "Cook quinoa according to package directions",
                        "Steam green beans until tender-crisp",
                        "Slice beef and serve over quinoa",
                        "Top with roasted sweet potatoes and green beans",
                        "MASSIVE meal for serious bulking!"
                    ]
                }
            ],
            'male-cut': [
                {
                    name: "‚≠ê WEEKLY LEAN BEEF ZOODLE BOWLS ‚≠ê",
                    description: "üìÖ Prep 7 lean cutting meals in 45 mins | Zero carb gains!",
                    time: "45 mins prep (7 meals)",
                    difficulty: 1,
                    rating: 5,
                    calories: 485,
                    protein: 42,
                    carbs: 18,
                    fat: 16,
                    sugar: 12,
                    icon: "üëë",
                    mealPrepChampion: true,
                    ingredients: [
                        "üõí WEEKLY CUTTING SHOPPING LIST:",
                        "2.5 lbs lean beef sirloin, sliced thin",
                        "21 medium zucchini (3 per day)",
                        "7 cups bell pepper strips (4 large peppers)",
                        "3.5 cups cherry tomatoes (2 containers)",
                        "7 tbsp olive oil",
                        "2 heads fresh garlic",
                        "Italian seasoning, salt, pepper",
                        "14 tbsp balsamic vinegar",
                        "Fresh basil bunch",
                        "üì¶ Need: 7 meal prep containers"
                    ],
                    instructions: [
                        "‚ö° SUNDAY CUTTING PREP (45 minutes):",
                        "Slice 2.5lbs beef into thin strips, season all with Italian herbs",
                        "Spiralize all 21 zucchini (use food processor if available)",
                        "Cut peppers into strips, halve cherry tomatoes",
                        "Heat oil in large skillet, cook beef in 3 batches",
                        "Cook each batch 3-4 minutes until browned, set aside",
                        "Saut√© peppers and tomatoes lightly (2 mins)",
                        "ASSEMBLY: Divide cooked beef into 7 containers",
                        "Add cooked peppers and tomatoes to each",
                        "Store raw zucchini noodles separately in fridge",
                        "DAILY: Heat beef/veggie mix, toss with fresh zoodles",
                        "Drizzle with balsamic, add fresh basil",
                        "üî• 2 minutes = Perfect cutting meal ready!"
                    ]
                }
            ],
            'female-bulk': [
                {
                    name: "‚≠ê WEEKLY BEEF QUINOA POWER BOWLS ‚≠ê",
                    description: "üìÖ Prep 7 perfect bulking bowls in 50 mins | Balanced gains!",
                    time: "50 mins prep (7 meals)",
                    difficulty: 2,
                    rating: 5,
                    calories: 820,
                    protein: 38,
                    carbs: 85,
                    fat: 28,
                    sugar: 15,
                    icon: "üëë",
                    mealPrepChampion: true,
                    ingredients: [
                        "üõí WEEKLY BALANCED SHOPPING LIST:",
                        "3.5 lbs lean ground beef (93/7)",
                        "7 cups quinoa (2 lbs dry quinoa)",
                        "7 medium sweet potatoes",
                        "3.5 avocados (buy 2 ripe, 1.5 unripe)",
                        "14 cups mixed greens (3 bags)",
                        "1.75 cups pumpkin seeds",
                        "7 tbsp olive oil",
                        "Cumin, paprika, salt, pepper",
                        "7 limes, fresh cilantro bunch",
                        "üì¶ Need: 7 meal prep containers"
                    ],
                    instructions: [
                        "üíé SUNDAY BALANCED BULK PREP (50 minutes):",
                        "Roast all 7 sweet potatoes at 400¬∞F for 30 minutes",
                        "Cook 7 cups quinoa in large pot (20 mins)",
                        "Season 3.5lbs ground beef with cumin and paprika",
                        "Brown beef in batches until fully cooked",
                        "While beef cooks: wash and prep all mixed greens",
                        "Cube roasted sweet potatoes when cool",
                        "ASSEMBLY LINE: Layer each container:",
                        "Bottom: 2 cups mixed greens",
                        "Middle: 1 cup cooked quinoa + beef portion",
                        "Top: cubed sweet potato + pumpkin seeds",
                        "Store dressing separate: olive oil + lime juice",
                        "Add fresh avocado daily before eating",
                        "üí™ Reheat proteins, add avocado = Perfect bulk!"
                    ]
                }
            ],
            'female-cut': [
                {
                    name: "‚≠ê WEEKLY LEAN BEEF LETTUCE WRAPS ‚≠ê",
                    description: "üìÖ Prep 7 ultra-lean meals in 35 mins | Clean cutting made easy!",
                    time: "35 mins prep (7 meals)",
                    difficulty: 1,
                    rating: 5,
                    calories: 320,
                    protein: 32,
                    carbs: 12,
                    fat: 12,
                    sugar: 8,
                    icon: "üëë",
                    mealPrepChampion: true,
                    ingredients: [
                        "üõí WEEKLY CLEAN CUTTING SHOPPING LIST:",
                        "2.25 lbs extra lean ground beef (96/4)",
                        "14 large heads butter lettuce",
                        "3.5 cups cucumber, diced",
                        "3.5 cups cherry tomatoes",
                        "1.75 cups red onion, diced",
                        "7 tbsp low-sodium soy sauce",
                        "7 tsp sesame oil",
                        "Fresh ginger root",
                        "2 heads garlic",
                        "Green onions, fresh cilantro",
                        "üì¶ Need: 7 meal prep containers + lettuce storage"
                    ],
                    instructions: [
                        "‚ú® SUNDAY CLEAN CUTTING PREP (35 minutes):",
                        "Brown all 2.25lbs extra lean beef in large pan",
                        "Add minced garlic and ginger, cook 1 minute",
                        "Season with soy sauce and sesame oil",
                        "Let beef mixture cool completely",
                        "Wash and dry all lettuce leaves thoroughly",
                        "Dice cucumbers, halve cherry tomatoes, dice onions",
                        "STORAGE SYSTEM:",
                        "Container 1: Cooked seasoned beef (divided into 7 portions)",
                        "Container 2: Diced vegetables mixed together",
                        "Store lettuce leaves in separate container with paper towel",
                        "DAILY ASSEMBLY (2 minutes): ",
                        "Grab portion of beef, vegetables, and 8 lettuce leaves",
                        "Fill lettuce cups, garnish with green onions and cilantro",
                        "üî• Fresh, crisp, and perfect for aggressive cuts!"
                    ]
                }
            ]
        };
        
        // Get current recipes based on mode
        function getCurrentRecipes() {
            const urlParams = new URLSearchParams(window.location.search);
            const mode = urlParams.get('mode') || localStorage.getItem('fuelfire_bulk_mode') || 'male-bulk';
            return bulkModeRecipes[mode] || bulkModeRecipes['male-bulk'];
        }
        
        const beefRecipes = getCurrentRecipes();
        
        // Display functions
        function generateDifficultyStars(difficulty) {
            const filledStars = '‚òÖ'.repeat(difficulty);
            const emptyStars = '‚òÜ'.repeat(5 - difficulty);
            return filledStars + emptyStars;
        }

        function generateRatingStars(rating) {
            const filledStars = '‚òÖ'.repeat(rating);
            const emptyStars = '‚òÜ'.repeat(5 - rating);
            return filledStars + emptyStars;
        }

        function displayMeals() {
            const container = document.getElementById('meals-container');
            let html = '';
            
            beefRecipes.forEach((meal, index) => {
                const isChampion = meal.mealPrepChampion;
                const cardStyle = isChampion ? 'style="border: 3px solid #FFD700; box-shadow: 0 8px 25px rgba(255, 215, 0, 0.4); transform: scale(1.02);"' : '';
                const imageGradient = isChampion ? 'background: linear-gradient(135deg, #FFD700, #FFA500, #8B4513);' : 'background: linear-gradient(135deg, #8B4513, #A0522D);';
                const championBadge = isChampion ? '<div class="champion-badge" style="position: absolute; top: -10px; right: -10px; background: linear-gradient(135deg, #FFD700, #FFA500); color: #8B4513; padding: 8px 12px; border-radius: 20px; font-size: 11px; font-weight: bold; box-shadow: 0 3px 10px rgba(255, 215, 0, 0.5);">MEAL PREP CHAMPION</div>' : '';
                
                html += `
                    <div class="meal-card" onclick="openRecipeModal(${index})" ${cardStyle}>
                        ${championBadge}
                        <div class="meal-image" style="${imageGradient}">
                            <div class="difficulty-badge">
                                Difficulty: ${generateDifficultyStars(meal.difficulty)}
                            </div>
                            <span class="category-icon">${meal.icon}</span>
                        </div>
                        <div class="meal-content">
                            <div class="meal-title">${meal.name}</div>
                            <div class="meal-description">${meal.description}</div>
                            <div class="meal-stats">
                                <div class="meal-time">‚è±Ô∏è ${meal.time}</div>
                                <div class="rating-stars">${generateRatingStars(meal.rating)}</div>
                            </div>
                            <div class="meal-nutrition">
                                <div class="nutrition-item">
                                    <div class="nutrition-value">${meal.calories}</div>
                                    <div class="nutrition-label">Cal</div>
                                </div>
                                <div class="nutrition-item">
                                    <div class="nutrition-value">${meal.protein}g</div>
                                    <div class="nutrition-label">Protein</div>
                                </div>
                                <div class="nutrition-item">
                                    <div class="nutrition-value">${meal.carbs}g</div>
                                    <div class="nutrition-label">Carbs</div>
                                </div>
                                <div class="nutrition-item">
                                    <div class="nutrition-value">${meal.fat}g</div>
                                    <div class="nutrition-label">Fat</div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        function openRecipeModal(index) {
            const meal = beefRecipes[index];
            const modal = document.getElementById('recipe-modal');
            
            document.getElementById('modal-title').textContent = meal.name;
            document.getElementById('modal-subtitle').innerHTML = `
                ${meal.icon} ${meal.description} ‚Ä¢ ‚è±Ô∏è ${meal.time} ‚Ä¢ Difficulty: ${generateDifficultyStars(meal.difficulty)}
            `;
            
            let ingredientsHtml = '<h3 style="color: var(--primary); margin-bottom: 15px;">üõí Shopping List</h3><div class="ingredient-list">';
            meal.ingredients.forEach(ingredient => {
                ingredientsHtml += `
                    <div class="ingredient-item">
                        <input type="checkbox" class="ingredient-checkbox">
                        <span>${ingredient}</span>
                    </div>
                `;
            });
            ingredientsHtml += '</div>';
            
            let instructionsHtml = '<h3 style="color: var(--primary); margin: 25px 0 15px 0;">üë®‚Äçüç≥ Instructions</h3><div class="instruction-list">';
            meal.instructions.forEach((instruction, i) => {
                instructionsHtml += `
                    <div class="instruction-item">
                        <strong>Step ${i + 1}:</strong> ${instruction}
                    </div>
                `;
            });
            instructionsHtml += '</div>';
            
            const nutritionHtml = `
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin: 20px 0; padding: 15px; background: #f8f9ff; border-radius: 10px;">
                    <div style="text-align: center;">
                        <div style="font-weight: bold; color: var(--primary);">${meal.calories}</div>
                        <div style="font-size: 12px; color: #666;">Calories</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-weight: bold; color: var(--primary);">${meal.protein}g</div>
                        <div style="font-size: 12px; color: #666;">Protein</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-weight: bold; color: var(--primary);">${meal.carbs}g</div>
                        <div style="font-size: 12px; color: #666;">Carbs</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-weight: bold; color: var(--primary);">${meal.fat}g</div>
                        <div style="font-size: 12px; color: #666;">Fat</div>
                    </div>
                </div>
            `;
            
            document.getElementById('modal-content-body').innerHTML = 
                nutritionHtml + ingredientsHtml + instructionsHtml + 
                `<button class="log-recipe-btn" onclick="logRecipe(${index})">‚úÖ Log This Recipe</button>`;
            
            modal.style.display = 'block';
        }

        function closeModal() {
            document.getElementById('recipe-modal').style.display = 'none';
        }

        function logRecipe(index) {
            const meal = beefRecipes[index];
            const today = new Date().toISOString().split('T')[0];
            
            // Get existing logged meals
            let loggedMeals = JSON.parse(localStorage.getItem('fuelfire_logged_meals') || '{}');
            
            if (!loggedMeals[today]) {
                loggedMeals[today] = {
                    meals: [],
                    totalCalories: 0
                };
            }
            
            // Add this recipe
            loggedMeals[today].meals.push({
                name: meal.name,
                calories: meal.calories,
                protein: meal.protein,
                carbs: meal.carbs,
                fat: meal.fat,
                time: new Date().toISOString(),
                fromRecipe: true,
                category: 'beef'
            });
            
            loggedMeals[today].totalCalories += meal.calories;
            
            // Save to localStorage
            localStorage.setItem('fuelfire_logged_meals', JSON.stringify(loggedMeals));
            
            // Show success message
            alert(`‚úÖ ${meal.name} logged! (+${meal.calories} calories)`);
            closeModal();
        }

        function updateTime() {
            const now = new Date();
            const time = now.toLocaleTimeString('en-US', { 
                hour: 'numeric', 
                minute: '2-digit',
                hour12: true 
            });
            document.getElementById('time').textContent = time;
        }

        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.querySelector('.overlay');
            sidebar.classList.toggle('open');
            overlay.classList.toggle('show');
        }

        function goToPage(page) {
            window.location.href = page;
        }
        
        function goBack() {
            window.location.href = 'meal-ideas.html';
        }

        // Click outside modal to close
        window.onclick = function(event) {
            const modal = document.getElementById('recipe-modal');
            if (event.target == modal) {
                closeModal();
            }
        }

        // Initialize
        window.addEventListener('load', function() {
            updateTime();
            setInterval(updateTime, 1000);
            displayMeals();
        });
    </script>
</body>
</html>
