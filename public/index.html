<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>FuelFire - Fitness & Nutrition Tracker v2.0</title>
    <link rel="stylesheet" href="styles.css?v=24.0">
    <script src="daily-quotes.js"></script>
    <script src="health-sync.js"></script>
    <script src="global-nav.js"></script>
</head>
<body>
    <div class="phone-container">
        <div class="screen">
            <!-- Status Bar -->
            <div class="status-bar">


            </div>

            
            <div class="header">
                <div class="hamburger" onclick="toggleSidebar()" ontouchstart="">☰</div>
                <div class="header-title">FuelFire</div>
            </div>
            
            <div class="content">
                <!-- HOME SCREEN -->
                <div class="screen-content home-content active" id="home">
                    <div style="padding: 20px;">

                    <!-- Hero Header -->
                    <div class="hero-section" style="margin-bottom: 25px;">
                        <h1 class="hero-title">Well Fit</h1>
                        <div class="hero-subtitle">Ignite your fitness journey</div>
                    </div>

                    <!-- Motivational Quote Banner -->
                    <div id="quote-banner" style="background: white; padding: 30px 25px; border-radius: 25px; margin-bottom: 25px; box-shadow: 0 12px 40px rgba(0,0,0,0.15); position: relative; display: block; animation: slideDown 0.5s ease; border: 3px solid var(--carolina-blue);">
                        <div style="text-align: center; margin-bottom: 15px;">
                            <div style="font-size: 32px; margin-bottom: 5px;">💪</div>
                            <div style="font-size: 16px; font-weight: bold; color: var(--carolina-blue); letter-spacing: 1px; text-transform: uppercase;">Daily Motivation</div>
                        </div>
                        <button onclick="closeQuoteBanner(event)" style="position: absolute; top: 15px; right: 15px; background: var(--light-bg); border: 2px solid var(--carolina-blue); color: var(--carolina-blue); width: 35px; height: 35px; border-radius: 50%; font-size: 20px; font-weight: bold; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">✕</button>
                        <div style="font-size: 20px; font-weight: 600; font-style: italic; line-height: 1.7; text-align: center; padding: 0 30px 0 10px; color: var(--dark);" id="daily-quote">Loading quote...</div>
                        <div style="font-size: 15px; text-align: center; margin-top: 15px; color: var(--primary-dark); font-weight: bold;" id="quote-author">- Author</div>
                    </div>

                    <!-- Today's Overview -->
                    <div style="background: var(--gradient-1); color: white; padding: 35px 25px; border-radius: 20px; margin-bottom: 25px; box-shadow: 0 8px 25px rgba(75, 156, 211, 0.3); cursor: pointer; touch-action: manipulation; -webkit-tap-highlight-color: rgba(0,0,0,0.1);" onclick="window.location.href='calorie-tracker.html'" ontouchstart="">
                        <h2 style="font-size: 24px; margin-bottom: 20px; text-align: center;">Today's Overview</h2>

                        <!-- Calories - Featured on top -->
                        <div style="text-align: center; margin-bottom: 25px; padding-bottom: 20px; border-bottom: 2px solid rgba(255,255,255,0.3);">
                            <div style="font-size: 48px; font-weight: bold; line-height: 1;" id="home-calories">0</div>
                            <div style="font-size: 16px; opacity: 0.9; margin-top: 8px; letter-spacing: 1px;">CALORIES</div>
                        </div>

                        <!-- Macros Breakdown -->
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; text-align: center;">
                            <div>
                                <div style="font-size: 28px; font-weight: bold;" id="home-protein">0g</div>
                                <div style="font-size: 12px; opacity: 0.9; margin-top: 5px;">Protein</div>
                            </div>
                            <div>
                                <div style="font-size: 28px; font-weight: bold;" id="home-carbs">0g</div>
                                <div style="font-size: 12px; opacity: 0.9; margin-top: 5px;">Carbs</div>
                            </div>
                            <div>
                                <div style="font-size: 28px; font-weight: bold;" id="home-fat">0g</div>
                                <div style="font-size: 12px; opacity: 0.9; margin-top: 5px;">Fat</div>
                            </div>
                        </div>

                        <div style="margin-top: 25px; font-size: 14px; opacity: 0.9; text-align: center; font-weight: 600;">
                            Tap to log meals →
                        </div>
                    </div>

                    <!-- Apple Health Stats -->
                    <div style="background: white; border-radius: 20px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); cursor: pointer;" onclick="window.location.href='health-dashboard.html'">
                        <h3 style="color: var(--primary); margin-bottom: 15px; text-align: center; font-size: 18px; display: flex; align-items: center; justify-content: center; gap: 8px;">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.27 2 8.5C2 5.41 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.08C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.41 22 8.5C22 12.27 18.6 15.36 13.45 20.03L12 21.35Z" fill="currentColor"/>
                            </svg>
                            Health Today
                        </h3>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div style="text-align: center;">
                                <div style="margin-bottom: 10px;">
                                    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="color: #4CAF50;">
                                        <path d="M13.5 5.5C13.5 3.5 15.5 1.5 17.5 3.5C19.5 5.5 19.5 7.5 18 9L13 14L8 9C6.5 7.5 6.5 5.5 8.5 3.5C10.5 1.5 12.5 3.5 12.5 5.5H13.5Z" fill="currentColor"/>
                                        <path d="M7 14L9 16V22H8L7 14Z" fill="currentColor"/>
                                        <path d="M17 14L15 16V22H16L17 14Z" fill="currentColor"/>
                                        <circle cx="7" cy="22" r="1.5" fill="currentColor"/>
                                        <circle cx="17" cy="22" r="1.5" fill="currentColor"/>
                                    </svg>
                                </div>
                                <div style="font-size: 24px; font-weight: bold; color: var(--dark);" id="home-steps">--</div>
                                <div style="font-size: 12px; color: #666;">Steps</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="margin-bottom: 10px;">
                                    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="color: #FF5722;">
                                        <path d="M13.5 0.67C13.5 0.67 14.24 3.32 14.24 5.47C14.24 7.53 12.89 9.2 10.83 9.2C8.76 9.2 7.2 7.53 7.2 5.47L7.23 5.1C5.21 7.5 4 10.61 4 14C4 19.5 8.5 24 14 24C19.5 24 24 19.5 24 14C24 8.36 18.37 3.29 13.5 0.67ZM14.5 20.8C11.82 21.4 9.15 19.88 8.5 17.2C8.29 16.38 8.34 15.47 8.68 14.67C9.03 13.87 9.68 13.16 10.55 12.73L11.1 13.68C10.6 13.93 10.21 14.3 9.95 14.77C9.69 15.24 9.57 15.78 9.61 16.33C9.99 18.11 11.92 19.16 13.7 18.78C15.47 18.4 16.53 16.47 16.15 14.69C16.09 14.39 15.98 14.1 15.83 13.83L16.8 13.27C17.36 14.27 17.55 15.47 17.32 16.63C16.97 18.28 15.82 19.58 14.5 20.8Z" fill="currentColor"/>
                                    </svg>
                                </div>
                                <div style="font-size: 24px; font-weight: bold; color: var(--dark);" id="home-calories-burned">--</div>
                                <div style="font-size: 12px; color: #666;">Cal Burned</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px; text-align: center; font-size: 12px; color: var(--primary); font-weight: 600;">
                            Tap for full health dashboard →
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="quick-actions">
                        <div class="action-card" onclick="window.location.href='workout-quiz.html'" ontouchstart="" style="touch-action: manipulation; -webkit-tap-highlight-color: rgba(0,0,0,0.1);">
                            <div class="action-icon">
                                <svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="2" y="9" width="4" height="6" rx="1" fill="currentColor"/>
                                    <rect x="18" y="9" width="4" height="6" rx="1" fill="currentColor"/>
                                    <rect x="6" y="11" width="12" height="2" rx="1" fill="currentColor"/>
                                    <circle cx="4" cy="12" r="1.5" fill="#fff"/>
                                    <circle cx="20" cy="12" r="1.5" fill="#fff"/>
                                </svg>
                            </div>
                            <div class="action-title">Quick Workout</div>
                            <div class="action-desc">Start your workout now</div>
                        </div>
                        <div class="action-card" onclick="showScreen('track-workouts')" ontouchstart="" style="touch-action: manipulation; -webkit-tap-highlight-color: rgba(0,0,0,0.1);">
                            <div class="action-icon">
                                <svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M3 20L9 14L13 18L21 10" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M21 10V15M21 10H16" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/>
                                </svg>
                            </div>
                            <div class="action-title">Track Progress</div>
                            <div class="action-desc">Log today's session</div>
                        </div>
                        <div class="action-card" onclick="window.location.href='calorie-tracker.html'" ontouchstart="" style="touch-action: manipulation; -webkit-tap-highlight-color: rgba(0,0,0,0.1);">
                            <div class="action-icon">
                                <svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <circle cx="12" cy="12" r="3" fill="currentColor"/>
                                </svg>
                            </div>
                            <div class="action-title">Log Nutrition</div>
                            <div class="action-desc">Track your meals</div>
                        </div>
                        <div class="action-card" onclick="showScreen('progress')" ontouchstart="" style="touch-action: manipulation; -webkit-tap-highlight-color: rgba(0,0,0,0.1);">
                            <div class="action-icon">
                                <svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" fill="none"/>
                                    <path d="M12 3V12L17 17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                    <circle cx="12" cy="12" r="2" fill="currentColor"/>
                                </svg>
                            </div>
                            <div class="action-title">Set Goals</div>
                            <div class="action-desc">Track your progress</div>
                        </div>
                    </div>
                    
                    <!-- Recent Activity -->
                    <div style="margin-bottom: 20px;">
                        <h3 style="color: var(--dark); margin-bottom: 15px; font-size: 18px;">🏆 Recent Activity</h3>
                        <div style="background: var(--card-bg); padding: 15px; border-radius: 15px; margin-bottom: 10px; border-left: 4px solid #4CAF50;">
                            <div style="font-weight: bold; color: var(--dark);">New Personal Record!</div>
                            <div style="color: #666; font-size: 14px;">Bench Press: 225 lbs - Yesterday</div>
                        </div>
                        <div style="background: var(--card-bg); padding: 15px; border-radius: 15px; border-left: 4px solid var(--carolina-blue);">
                            <div style="font-weight: bold; color: var(--dark);">Nutrition Goal Met</div>
                            <div style="color: #666; font-size: 14px;">Hit protein target 5 days straight</div>
                        </div>
                    </div>
                    </div>
                </div>

                <!-- CREATE WORKOUT SCREEN -->
                <div class="screen-content" id="create-workout">
                    <!-- Create Custom Workout Button at TOP -->
                    <div style="text-align: center; margin-bottom: 25px; padding: 20px; background: var(--gradient-1); border-radius: 20px; box-shadow: 0 8px 25px rgba(75, 156, 211, 0.4);">
                        <h3 style="color: white; margin-bottom: 10px;">🤖 Want an AI-Powered Custom Workout?</h3>
                        <p style="color: white; margin-bottom: 15px; opacity: 0.9;">Get a personalized program designed just for your goals</p>
                        <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                            <button onclick="startCustomWorkout()" ontouchstart="" style="background: white; color: var(--carolina-blue); border: none; padding: 15px 35px; border-radius: 30px; font-weight: bold; cursor: pointer; font-size: 16px; transition: all 0.3s ease;">
                                ✨ Create My Custom Workout
                            </button>
                            <button onclick="window.location.href='workout-quiz.html'" ontouchstart="" style="background: rgba(255,255,255,0.9); color: var(--carolina-blue); border: 2px solid white; padding: 15px 35px; border-radius: 30px; font-weight: bold; cursor: pointer; font-size: 16px; transition: all 0.3s ease;">
                                🏋️ Quick Workout
                            </button>
                        </div>
                    </div>
                    
                    <!-- Suggested Quick Workouts Section -->
                    <div style="margin-bottom: 30px;">
                        <h3 style="color: var(--dark); margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                            <span style="background: var(--gradient-2); color: white; padding: 6px 12px; border-radius: 20px; font-size: 14px;">NEW</span>
                            Quick Start Workouts
                        </h3>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 20px;">
                            <div onclick="quickStartWorkout('muscle-30')" ontouchstart="" style="background: var(--card-bg); padding: 20px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease; border: 2px solid transparent; -webkit-tap-highlight-color: rgba(0,0,0,0.1);" 
                                 onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 10px 25px rgba(75, 156, 211, 0.2)'; this.style.borderColor='var(--carolina-blue)'" 
                                 onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'; this.style.borderColor='transparent'">
                                <div style="font-size: 24px; margin-bottom: 8px;">💪</div>
                                <div style="font-weight: bold; color: var(--dark); margin-bottom: 4px;">30-Min Muscle</div>
                                <div style="font-size: 12px; color: #666;">Quick pump session</div>
                            </div>
                            <div onclick="quickStartWorkout('hiit-20')" ontouchstart="" style="background: var(--card-bg); padding: 20px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease; border: 2px solid transparent; -webkit-tap-highlight-color: rgba(0,0,0,0.1);"
                                 onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 10px 25px rgba(75, 156, 211, 0.2)'; this.style.borderColor='var(--carolina-blue)'"
                                 onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'; this.style.borderColor='transparent'">
                                <div style="font-size: 24px; margin-bottom: 8px;">🔥</div>
                                <div style="font-weight: bold; color: var(--dark); margin-bottom: 4px;">20-Min HIIT</div>
                                <div style="font-size: 12px; color: #666;">Fat burning blast</div>
                            </div>
                            <div onclick="quickStartWorkout('mobility-15')" ontouchstart="" style="background: var(--card-bg); padding: 20px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease; border: 2px solid transparent; -webkit-tap-highlight-color: rgba(0,0,0,0.1);"
                                 onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 10px 25px rgba(75, 156, 211, 0.2)'; this.style.borderColor='var(--carolina-blue)'"
                                 onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'; this.style.borderColor='transparent'">
                                <div style="font-size: 24px; margin-bottom: 8px;">🧘</div>
                                <div style="font-weight: bold; color: var(--dark); margin-bottom: 4px;">15-Min Mobility</div>
                                <div style="font-size: 12px; color: #666;">Flexibility & recovery</div>
                            </div>
                            <div onclick="quickStartWorkout('core-10')" ontouchstart="" style="background: var(--card-bg); padding: 20px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease; border: 2px solid transparent; -webkit-tap-highlight-color: rgba(0,0,0,0.1);"
                                 onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 10px 25px rgba(75, 156, 211, 0.2)'; this.style.borderColor='var(--carolina-blue)'"
                                 onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'; this.style.borderColor='transparent'">
                                <div style="font-size: 24px; margin-bottom: 8px;">🎯</div>
                                <div style="font-weight: bold; color: var(--dark); margin-bottom: 4px;">10-Min Core</div>
                                <div style="font-size: 12px; color: #666;">Ab destroyer</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="filter-tabs">
                        <div class="filter-tab active">🔥 All</div>
                        <div class="filter-tab">⭐ Pro Athletes</div>
                        <div class="filter-tab">💪 Bodybuilding</div>
                        <div class="filter-tab">🏃 Endurance</div>
                        <div class="filter-tab">♀️ Female Athletes</div>
                        <div class="filter-tab">🎯 Challenges</div>
                    </div>
                    
                    <!-- 75 HARD Challenge - Featured -->
                    <div style="background: linear-gradient(135deg, #FF6B6B 0%, #C44569 100%); color: white; padding: 30px; border-radius: 25px; margin-bottom: 25px; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -20px; right: -20px; font-size: 120px; opacity: 0.1;">💀</div>
                        <h3 style="font-size: 28px; margin-bottom: 15px; font-weight: 900;">75 HARD CHALLENGE</h3>
                        <p style="margin-bottom: 20px; opacity: 0.95; font-size: 16px;">The Mental Toughness Program That Will Transform Your Life</p>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 20px;">
                            <div style="background: rgba(255,255,255,0.2); padding: 12px; border-radius: 15px; text-align: center;">
                                <div style="font-size: 20px; font-weight: bold;">75</div>
                                <div style="font-size: 12px;">Days</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.2); padding: 12px; border-radius: 15px; text-align: center;">
                                <div style="font-size: 20px; font-weight: bold;">2x</div>
                                <div style="font-size: 12px;">Daily Workouts</div>
                            </div>
                        </div>
                        <div style="margin-bottom: 20px;">
                            <div style="font-weight: bold; margin-bottom: 10px;">✅ PROS:</div>
                            <ul style="list-style: none; padding: 0;">
                                <li style="margin-bottom: 5px;">• Complete mental & physical transformation</li>
                                <li style="margin-bottom: 5px;">• Builds unbreakable discipline</li>
                                <li style="margin-bottom: 5px;">• No equipment required for many workouts</li>
                            </ul>
                        </div>
                        <div style="margin-bottom: 20px;">
                            <div style="font-weight: bold; margin-bottom: 10px;">⚠️ CONS:</div>
                            <ul style="list-style: none; padding: 0;">
                                <li style="margin-bottom: 5px;">• Extremely demanding (2 workouts/day)</li>
                                <li style="margin-bottom: 5px;">• Zero tolerance for missed days</li>
                                <li style="margin-bottom: 5px;">• Requires 3+ hours daily commitment</li>
                            </ul>
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button onclick="showWorkoutInfo('75hard')" style="background: rgba(255,255,255,0.2); color: white; border: 2px solid white; padding: 12px 20px; border-radius: 25px; font-weight: bold; cursor: pointer; flex: 1;">
                                ℹ️ More Info
                            </button>
                            <button onclick="startWorkoutProgram('75hard')" style="background: white; color: #C44569; border: none; padding: 12px 20px; border-radius: 25px; font-weight: bold; cursor: pointer; flex: 2;">
                                💪 Start Challenge
                            </button>
                        </div>
                    </div>
                    
                    <!-- Chris Bumstead's Classic Physique -->
                    <div class="workout-card" style="border-left-color: #FFD700;">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px;">
                            <div>
                                <h3 style="color: var(--dark); margin-bottom: 5px;">Chris Bumstead's Classic Physique</h3>
                                <p style="color: #666; font-size: 14px;">🏆 5x Mr. Olympia Classic Physique Champion</p>
                            </div>
                            <span style="background: #FFD700; color: #333; padding: 5px 10px; border-radius: 15px; font-size: 12px; font-weight: bold;">ELITE</span>
                        </div>
                        
                        <div style="background: var(--lighter-bg); padding: 15px; border-radius: 15px; margin-bottom: 15px;">
                            <p style="color: var(--dark); font-weight: 600; margin-bottom: 8px;">🎯 Perfect For:</p>
                            <p style="color: #666; font-size: 14px;">Advanced lifters wanting aesthetic proportions, V-taper focus, and classic bodybuilding shape</p>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                            <div>
                                <p style="color: #4CAF50; font-weight: bold; font-size: 14px; margin-bottom: 5px;">✅ PROS:</p>
                                <ul style="font-size: 13px; color: #666; padding-left: 20px;">
                                    <li>Aesthetic-focused training</li>
                                    <li>Proven champion's routine</li>
                                    <li>Great for proportions</li>
                                </ul>
                            </div>
                            <div>
                                <p style="color: #FF5252; font-weight: bold; font-size: 14px; margin-bottom: 5px;">⚠️ CONS:</p>
                                <ul style="font-size: 13px; color: #666; padding-left: 20px;">
                                    <li>Very high volume</li>
                                    <li>6 days per week</li>
                                    <li>Requires gym access</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 10px;">
                            <button onclick="showWorkoutInfo('cbum')" style="background: var(--lighter-bg); color: var(--carolina-blue); border: none; padding: 10px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; flex: 1;">
                                ℹ️ Info
                            </button>
                            <button onclick="startWorkoutProgram('cbum')" style="background: var(--gradient-1); color: white; border: none; padding: 10px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; flex: 2;">
                                Start Program →
                            </button>
                        </div>
                    </div>
                    
                    <!-- Arnold's Golden Era Blueprint -->
                    <div class="workout-card" style="border-left-color: #8B4513;">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px;">
                            <div>
                                <h3 style="color: var(--dark); margin-bottom: 5px;">Arnold's Golden Era Blueprint</h3>
                                <p style="color: #666; font-size: 14px;">🏆 7x Mr. Olympia - The Austrian Oak</p>
                            </div>
                            <span style="background: #8B4513; color: white; padding: 5px 10px; border-radius: 15px; font-size: 12px; font-weight: bold;">LEGEND</span>
                        </div>
                        
                        <div style="background: var(--lighter-bg); padding: 15px; border-radius: 15px; margin-bottom: 15px;">
                            <p style="color: var(--dark); font-weight: 600; margin-bottom: 8px;">🎯 Perfect For:</p>
                            <p style="color: #666; font-size: 14px;">Those wanting massive size, old-school volume training, and proven classic techniques</p>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                            <div>
                                <p style="color: #4CAF50; font-weight: bold; font-size: 14px; margin-bottom: 5px;">✅ PROS:</p>
                                <ul style="font-size: 13px; color: #666; padding-left: 20px;">
                                    <li>Time-tested results</li>
                                    <li>Builds serious mass</li>
                                    <li>Full body development</li>
                                </ul>
                            </div>
                            <div>
                                <p style="color: #FF5252; font-weight: bold; font-size: 14px; margin-bottom: 5px;">⚠️ CONS:</p>
                                <ul style="font-size: 13px; color: #666; padding-left: 20px;">
                                    <li>Extremely high volume</li>
                                    <li>2+ hours per session</li>
                                    <li>Not for beginners</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 10px;">
                            <button onclick="showWorkoutInfo('arnold')" style="background: var(--lighter-bg); color: var(--carolina-blue); border: none; padding: 10px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; flex: 1;">
                                ℹ️ Info
                            </button>
                            <button onclick="startWorkoutProgram('arnold')" style="background: var(--gradient-1); color: white; border: none; padding: 10px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; flex: 2;">
                                Start Program →
                            </button>
                        </div>
                    </div>
                    
                    <!-- Ronnie Coleman Power Building -->
                    <div class="workout-card" style="border-left-color: #FF0000;">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px;">
                            <div>
                                <h3 style="color: var(--dark); margin-bottom: 5px;">Ronnie Coleman's Power Building</h3>
                                <p style="color: #666; font-size: 14px;">🏆 8x Mr. Olympia - "LIGHTWEIGHT BABY!"</p>
                            </div>
                            <span style="background: #FF0000; color: white; padding: 5px 10px; border-radius: 15px; font-size: 12px; font-weight: bold;">EXTREME</span>
                        </div>
                        
                        <div style="background: var(--lighter-bg); padding: 15px; border-radius: 15px; margin-bottom: 15px;">
                            <p style="color: var(--dark); font-weight: 600; margin-bottom: 8px;">🎯 Perfect For:</p>
                            <p style="color: #666; font-size: 14px;">Experienced lifters wanting maximum strength AND size - the king's approach</p>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                            <div>
                                <p style="color: #4CAF50; font-weight: bold; font-size: 14px; margin-bottom: 5px;">✅ PROS:</p>
                                <ul style="font-size: 13px; color: #666; padding-left: 20px;">
                                    <li>Insane strength gains</li>
                                    <li>Maximum muscle mass</li>
                                    <li>Proven by the GOAT</li>
                                </ul>
                            </div>
                            <div>
                                <p style="color: #FF5252; font-weight: bold; font-size: 14px; margin-bottom: 5px;">⚠️ CONS:</p>
                                <ul style="font-size: 13px; color: #666; padding-left: 20px;">
                                    <li>Very heavy weights</li>
                                    <li>High injury risk</li>
                                    <li>Requires years of exp</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 10px;">
                            <button onclick="showWorkoutInfo('ronnie')" style="background: var(--lighter-bg); color: var(--carolina-blue); border: none; padding: 10px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; flex: 1;">
                                ℹ️ Info
                            </button>
                            <button onclick="startWorkoutProgram('ronnie')" style="background: var(--gradient-1); color: white; border: none; padding: 10px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; flex: 2;">
                                Start Program →
                            </button>
                        </div>
                    </div>
                    
                    <!-- Boston Marathon Qualifier -->
                    <div class="workout-card" style="border-left-color: #00C853;">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px;">
                            <div>
                                <h3 style="color: var(--dark); margin-bottom: 5px;">Boston Marathon Qualifier Program</h3>
                                <p style="color: #666; font-size: 14px;">🏃 18-week elite running program</p>
                            </div>
                            <span style="background: #00C853; color: white; padding: 5px 10px; border-radius: 15px; font-size: 12px; font-weight: bold;">ENDURANCE</span>
                        </div>
                        
                        <div style="background: var(--lighter-bg); padding: 15px; border-radius: 15px; margin-bottom: 15px;">
                            <p style="color: var(--dark); font-weight: 600; margin-bottom: 8px;">🎯 Perfect For:</p>
                            <p style="color: #666; font-size: 14px;">Serious runners aiming for Boston qualifying times with structured periodization</p>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                            <div>
                                <p style="color: #4CAF50; font-weight: bold; font-size: 14px; margin-bottom: 5px;">✅ PROS:</p>
                                <ul style="font-size: 13px; color: #666; padding-left: 20px;">
                                    <li>Proven BQ results</li>
                                    <li>Progressive mileage</li>
                                    <li>Speed work included</li>
                                </ul>
                            </div>
                            <div>
                                <p style="color: #FF5252; font-weight: bold; font-size: 14px; margin-bottom: 5px;">⚠️ CONS:</p>
                                <ul style="font-size: 13px; color: #666; padding-left: 20px;">
                                    <li>50+ miles/week peak</li>
                                    <li>Time intensive</li>
                                    <li>Weather dependent</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 10px;">
                            <button onclick="showWorkoutInfo('marathon')" style="background: var(--lighter-bg); color: var(--carolina-blue); border: none; padding: 10px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; flex: 1;">
                                ℹ️ Info
                            </button>
                            <button onclick="startWorkoutProgram('marathon')" style="background: var(--gradient-1); color: white; border: none; padding: 10px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; flex: 2;">
                                Start Program →
                            </button>
                        </div>
                    </div>
                    
                    <!-- Kayla Itsines BBG -->
                    <div class="workout-card" style="border-left-color: #FF69B4;">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px;">
                            <div>
                                <h3 style="color: var(--dark); margin-bottom: 5px;">Kayla Itsines BBG Stronger</h3>
                                <p style="color: #666; font-size: 14px;">💪 World's #1 Female Fitness Program</p>
                            </div>
                            <span style="background: #FF69B4; color: white; padding: 5px 10px; border-radius: 15px; font-size: 12px; font-weight: bold;">HIIT</span>
                        </div>
                        
                        <div style="background: var(--lighter-bg); padding: 15px; border-radius: 15px; margin-bottom: 15px;">
                            <p style="color: var(--dark); font-weight: 600; margin-bottom: 8px;">🎯 Perfect For:</p>
                            <p style="color: #666; font-size: 14px;">Women wanting to build strength, tone up, and improve fitness with quick workouts</p>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                            <div>
                                <p style="color: #4CAF50; font-weight: bold; font-size: 14px; margin-bottom: 5px;">✅ PROS:</p>
                                <ul style="font-size: 13px; color: #666; padding-left: 20px;">
                                    <li>28-minute workouts</li>
                                    <li>No gym required</li>
                                    <li>Huge community</li>
                                </ul>
                            </div>
                            <div>
                                <p style="color: #FF5252; font-weight: bold; font-size: 14px; margin-bottom: 5px;">⚠️ CONS:</p>
                                <ul style="font-size: 13px; color: #666; padding-left: 20px;">
                                    <li>Very high intensity</li>
                                    <li>Limited strength focus</li>
                                    <li>Can be repetitive</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 10px;">
                            <button onclick="showWorkoutInfo('kayla')" style="background: var(--lighter-bg); color: var(--carolina-blue); border: none; padding: 10px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; flex: 1;">
                                ℹ️ Info
                            </button>
                            <button onclick="startWorkoutProgram('kayla')" style="background: var(--gradient-1); color: white; border: none; padding: 10px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; flex: 2;">
                                Start Program →
                            </button>
                        </div>
                    </div>
                    
                    <!-- Dorian Yates HIT Training -->
                    <div class="workout-card" style="border-left-color: #6A1B9A;">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px;">
                            <div>
                                <h3 style="color: var(--dark); margin-bottom: 5px;">Dorian Yates HIT Training</h3>
                                <p style="color: #666; font-size: 14px;">🏆 6x Mr. Olympia - "The Shadow"</p>
                            </div>
                            <span style="background: #6A1B9A; color: white; padding: 5px 10px; border-radius: 15px; font-size: 12px; font-weight: bold;">HIT</span>
                        </div>
                        
                        <div style="background: var(--lighter-bg); padding: 15px; border-radius: 15px; margin-bottom: 15px;">
                            <p style="color: var(--dark); font-weight: 600; margin-bottom: 8px;">🎯 Perfect For:</p>
                            <p style="color: #666; font-size: 14px;">Busy professionals wanting maximum results with minimum time - ultra-high intensity</p>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                            <div>
                                <p style="color: #4CAF50; font-weight: bold; font-size: 14px; margin-bottom: 5px;">✅ PROS:</p>
                                <ul style="font-size: 13px; color: #666; padding-left: 20px;">
                                    <li>Only 45 min sessions</li>
                                    <li>4 days per week</li>
                                    <li>Incredible intensity</li>
                                </ul>
                            </div>
                            <div>
                                <p style="color: #FF5252; font-weight: bold; font-size: 14px; margin-bottom: 5px;">⚠️ CONS:</p>
                                <ul style="font-size: 13px; color: #666; padding-left: 20px;">
                                    <li>Requires 100% effort</li>
                                    <li>Very taxing mentally</li>
                                    <li>Easy to overtrain</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 10px;">
                            <button onclick="showWorkoutInfo('dorian')" style="background: var(--lighter-bg); color: var(--carolina-blue); border: none; padding: 10px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; flex: 1;">
                                ℹ️ Info
                            </button>
                            <button onclick="startWorkoutProgram('dorian')" style="background: var(--gradient-1); color: white; border: none; padding: 10px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; flex: 2;">
                                Start Program →
                            </button>
                        </div>
                    </div>
                    
                    <!-- Chloe Ting Summer Shred -->
                    <div class="workout-card" style="border-left-color: #E91E63;">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px;">
                            <div>
                                <h3 style="color: var(--dark); margin-bottom: 5px;">Chloe Ting Summer Shred</h3>
                                <p style="color: #666; font-size: 14px;">🌟 YouTube's #1 Fitness Transformation Program</p>
                            </div>
                            <span style="background: #E91E63; color: white; padding: 5px 10px; border-radius: 15px; font-size: 12px; font-weight: bold;">SHRED</span>
                        </div>
                        
                        <div style="background: var(--lighter-bg); padding: 15px; border-radius: 15px; margin-bottom: 15px;">
                            <p style="color: var(--dark); font-weight: 600; margin-bottom: 8px;">🎯 Perfect For:</p>
                            <p style="color: #666; font-size: 14px;">Women wanting visible abs, toned body, and quick results with home workouts</p>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                            <div>
                                <p style="color: #4CAF50; font-weight: bold; font-size: 14px; margin-bottom: 5px;">✅ PROS:</p>
                                <ul style="font-size: 13px; color: #666; padding-left: 20px;">
                                    <li>No equipment needed</li>
                                    <li>Only 10-25 min/day</li>
                                    <li>Proven results</li>
                                </ul>
                            </div>
                            <div>
                                <p style="color: #FF5252; font-weight: bold; font-size: 14px; margin-bottom: 5px;">⚠️ CONS:</p>
                                <ul style="font-size: 13px; color: #666; padding-left: 20px;">
                                    <li>Very ab-focused</li>
                                    <li>Can be repetitive</li>
                                    <li>High rep burnout</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 10px;">
                            <button onclick="showWorkoutInfo('chloe')" style="background: var(--lighter-bg); color: var(--carolina-blue); border: none; padding: 10px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; flex: 1;">
                                ℹ️ Info
                            </button>
                            <button onclick="startWorkoutProgram('chloe')" style="background: var(--gradient-1); color: white; border: none; padding: 10px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; flex: 2;">
                                Start Program →
                            </button>
                        </div>
                    </div>
                    
                    <!-- Amateur Strength Foundation -->
                    <div class="workout-card" style="border-left-color: #2196F3;">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px;">
                            <div>
                                <h3 style="color: var(--dark); margin-bottom: 5px;">Amateur Strength Foundation</h3>
                                <p style="color: #666; font-size: 14px;">💪 4-Day Split for Serious Beginners</p>
                            </div>
                            <span style="background: #2196F3; color: white; padding: 5px 10px; border-radius: 15px; font-size: 12px; font-weight: bold;">SPLIT</span>
                        </div>
                        
                        <div style="background: var(--lighter-bg); padding: 15px; border-radius: 15px; margin-bottom: 15px;">
                            <p style="color: var(--dark); font-weight: 600; margin-bottom: 8px;">🎯 Perfect For:</p>
                            <p style="color: #666; font-size: 14px;">Ready to commit 4 days/week and build real strength with proper muscle group splits</p>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                            <div>
                                <p style="color: #4CAF50; font-weight: bold; font-size: 14px; margin-bottom: 5px;">✅ PROS:</p>
                                <ul style="font-size: 13px; color: #666; padding-left: 20px;">
                                    <li>2 muscle groups/day</li>
                                    <li>Perfect recovery time</li>
                                    <li>Steady progression</li>
                                </ul>
                            </div>
                            <div>
                                <p style="color: #FF5252; font-weight: bold; font-size: 14px; margin-bottom: 5px;">⚠️ CONS:</p>
                                <ul style="font-size: 13px; color: #666; padding-left: 20px;">
                                    <li>4 day commitment</li>
                                    <li>Needs gym access</li>
                                    <li>1+ hour sessions</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 10px;">
                            <button onclick="showWorkoutInfo('amateur')" style="background: var(--lighter-bg); color: var(--carolina-blue); border: none; padding: 10px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; flex: 1;">
                                ℹ️ Info
                            </button>
                            <button onclick="startWorkoutProgram('amateur')" style="background: var(--gradient-1); color: white; border: none; padding: 10px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; flex: 2;">
                                Start Program →
                            </button>
                        </div>
                    </div>
                    
                    <!-- Beginner Strength Foundation -->
                    <div class="workout-card" style="border-left-color: #4CAF50;">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px;">
                            <div>
                                <h3 style="color: var(--dark); margin-bottom: 5px;">Beginner Strength Foundation</h3>
                                <p style="color: #666; font-size: 14px;">🌱 Perfect Starting Point for New Lifters</p>
                            </div>
                            <span style="background: #4CAF50; color: white; padding: 5px 10px; border-radius: 15px; font-size: 12px; font-weight: bold;">BEGINNER</span>
                        </div>
                        
                        <div style="background: var(--lighter-bg); padding: 15px; border-radius: 15px; margin-bottom: 15px;">
                            <p style="color: var(--dark); font-weight: 600; margin-bottom: 8px;">🎯 Perfect For:</p>
                            <p style="color: #666; font-size: 14px;">Complete beginners wanting to build muscle safely with proper form and progressive overload</p>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                            <div>
                                <p style="color: #4CAF50; font-weight: bold; font-size: 14px; margin-bottom: 5px;">✅ PROS:</p>
                                <ul style="font-size: 13px; color: #666; padding-left: 20px;">
                                    <li>Learn proper form</li>
                                    <li>3 days per week only</li>
                                    <li>Full body approach</li>
                                </ul>
                            </div>
                            <div>
                                <p style="color: #FF5252; font-weight: bold; font-size: 14px; margin-bottom: 5px;">⚠️ CONS:</p>
                                <ul style="font-size: 13px; color: #666; padding-left: 20px;">
                                    <li>Slower initial progress</li>
                                    <li>Basic movements only</li>
                                    <li>Requires patience</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 10px;">
                            <button onclick="showWorkoutInfo('beginner')" style="background: var(--lighter-bg); color: var(--carolina-blue); border: none; padding: 10px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; flex: 1;">
                                ℹ️ Info
                            </button>
                            <button onclick="startWorkoutProgram('beginner')" style="background: var(--gradient-1); color: white; border: none; padding: 10px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; flex: 2;">
                                Start Program →
                            </button>
                        </div>
                    </div>
                </div>

                <!-- SAVED WORKOUTS SCREEN -->
                <div class="screen-content" id="saved-workouts">
                    <div style="background: var(--gradient-1); color: white; padding: 20px; border-radius: 20px; margin-bottom: 25px; text-align: center;">
                        <h3 style="font-size: 20px; margin-bottom: 10px;">📚 Your Saved Workouts</h3>
                        <p style="opacity: 0.9; font-size: 14px;">You can save up to 3 custom workouts</p>
                    </div>
                    
                    <div id="saved-workouts-list">
                        <!-- Saved workouts will be dynamically loaded here -->
                    </div>
                    
                    <div style="background: var(--lighter-bg); padding: 20px; border-radius: 20px; text-align: center; margin-top: 30px;">
                        <p style="color: var(--primary-dark); margin-bottom: 15px;">Create your perfect workout plan</p>
                        <button onclick="showScreen('create-workout')" style="background: var(--gradient-1); color: white; border: none; padding: 12px 30px; border-radius: 25px; font-weight: bold; cursor: pointer;">
                            ➕ Create New Workout
                        </button>
                    </div>
                </div>

                <!-- TRACK WORKOUTS SCREEN -->
                <div class="screen-content" id="track-workouts">
                    <!-- Header Stats -->
                    <div style="background: var(--gradient-1); color: white; padding: 20px; border-radius: 20px; margin-bottom: 25px;">
                        <h3 style="font-size: 20px; margin-bottom: 15px; text-align: center;">🔥 Fitness Dashboard</h3>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; text-align: center;">
                            <div>
                                <div style="font-size: 24px; font-weight: bold;" id="workout-streak">0</div>
                                <div style="font-size: 12px; opacity: 0.9;">Day Streak</div>
                            </div>
                            <div>
                                <div style="font-size: 24px; font-weight: bold;" id="week-workouts">0/5</div>
                                <div style="font-size: 12px; opacity: 0.9;">Week Goal</div>
                            </div>
                            <div>
                                <div style="font-size: 24px; font-weight: bold;" id="total-workouts">0</div>
                                <div style="font-size: 12px; opacity: 0.9;">All Time</div>
                            </div>
                        </div>
                        
                        <button onclick="showQuickLog()" style="background: rgba(255,255,255,0.2); color: white; border: 2px solid rgba(255,255,255,0.3); padding: 12px 25px; border-radius: 20px; margin-top: 15px; font-weight: bold; cursor: pointer; width: 100%;">
                            🏋️ Quick Log Workout
                        </button>
                    </div>
                    
                    <!-- Calendar View -->
                    <div style="background: var(--card-bg); border-radius: 20px; padding: 20px; margin-bottom: 20px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                            <h4 style="color: var(--dark); margin: 0;">📅 Workout Calendar</h4>
                            <div style="display: flex; gap: 10px;">
                                <button onclick="changeCalendarMonth(-1)" style="background: var(--lighter-bg); border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer;">◀</button>
                                <span id="calendar-month" style="font-weight: bold; color: var(--dark); min-width: 120px; text-align: center; line-height: 32px;"></span>
                                <button onclick="changeCalendarMonth(1)" style="background: var(--lighter-bg); border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer;">▶</button>
                            </div>
                        </div>
                        <div id="workout-calendar" style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; font-size: 12px;">
                            <!-- Calendar will be generated here -->
                        </div>
                        <div style="display: flex; gap: 15px; margin-top: 15px; font-size: 12px; justify-content: center;">
                            <div><span style="display: inline-block; width: 12px; height: 12px; background: #4CAF50; border-radius: 3px; margin-right: 5px;"></span>Workout Day</div>
                            <div><span style="display: inline-block; width: 12px; height: 12px; background: #FF5722; border-radius: 3px; margin-right: 5px;"></span>Missed Goal</div>
                        </div>
                    </div>
                    
                    <!-- Progress Charts -->
                    <div style="background: var(--card-bg); border-radius: 20px; padding: 20px; margin-bottom: 20px;">
                        <h4 style="color: var(--dark); margin-bottom: 15px;">📈 Weekly Progress</h4>
                        <div id="weekly-chart" style="height: 120px; display: flex; align-items: end; gap: 8px; padding: 10px 0;">
                            <!-- Chart bars will be generated here -->
                        </div>
                        <div style="display: flex; justify-content: space-between; font-size: 11px; color: #666; margin-top: 5px;">
                            <span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span><span>Sun</span>
                        </div>
                    </div>
                    
                    <!-- Personal Records -->
                    <div style="background: var(--card-bg); border-radius: 20px; padding: 20px; margin-bottom: 20px;">
                        <h4 style="color: var(--dark); margin-bottom: 15px;">🏆 Recent Achievements</h4>
                        <div id="recent-prs">
                            <!-- Personal records will be shown here -->
                        </div>
                        <button onclick="addPersonalRecord()" style="background: var(--lighter-bg); color: var(--dark); border: none; padding: 10px 20px; border-radius: 10px; font-weight: bold; cursor: pointer; width: 100%;">
                            ➕ Log New Personal Record
                        </button>
                    </div>
                    
                    <!-- Recent Activity -->
                    <div style="background: var(--card-bg); border-radius: 20px; padding: 20px;">
                        <h4 style="color: var(--dark); margin-bottom: 15px;">🕒 Recent Activity</h4>
                        <div id="recent-workouts-dashboard">
                            <!-- Recent workouts will be shown here -->
                        </div>
                    </div>
                    
                    <!-- Quick Log Modal -->
                    <div id="quick-log-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 9999; align-items: center; justify-content: center;">
                        <div style="background: white; border-radius: 20px; padding: 25px; max-width: 400px; width: 90%;">
                            <h3 style="color: var(--dark); margin: 0 0 20px 0;">🏋️ Quick Log Workout</h3>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                                <select id="quick-workout-type" style="padding: 12px; border: 1px solid #ddd; border-radius: 10px;">
                                    <option value="">Workout Type</option>
                                    <option value="chest">🏋️ Chest</option>
                                    <option value="back">🔙 Back</option>
                                    <option value="legs">🦵 Legs</option>
                                    <option value="shoulders">💪 Shoulders</option>
                                    <option value="arms">💪 Arms</option>
                                    <option value="cardio">🏃 Cardio</option>
                                </select>
                                <input type="number" id="quick-duration" placeholder="Duration (min)" style="padding: 12px; border: 1px solid #ddd; border-radius: 10px;">
                            </div>
                            
                            <textarea id="quick-notes" placeholder="Quick notes or key exercises..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 10px; height: 80px; margin-bottom: 20px; resize: vertical;"></textarea>
                            
                            <div style="display: flex; gap: 10px;">
                                <button onclick="saveQuickWorkout()" ontouchstart="" style="background: var(--gradient-1); color: white; border: none; padding: 12px 25px; border-radius: 15px; font-weight: bold; cursor: pointer; flex: 1; -webkit-tap-highlight-color: rgba(0,0,0,0.1);">
                                    💾 Save Workout
                                </button>
                                <button onclick="closeQuickLog()" style="background: #6c757d; color: white; border: none; padding: 12px 25px; border-radius: 15px; font-weight: bold; cursor: pointer;">
                                    Cancel
                                </button>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- PROGRESS SCREEN -->
                <div class="screen-content" id="progress">
                    <!-- Hero Section -->
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px 20px; border-radius: 25px; margin-bottom: 25px; text-align: center; box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);">
                        <div style="font-size: 48px; margin-bottom: 15px;">🎯</div>
                        <h3 style="font-size: 26px; margin-bottom: 12px; font-weight: bold;">Goals & Progress</h3>
                        <p style="opacity: 0.95; font-size: 15px; line-height: 1.6;">Every champion was once a contender who refused to give up. Track your journey, celebrate your wins, and keep pushing forward!</p>
                    </div>

                    <!-- Quick Stats Cards -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 25px;">
                        <div onclick="editWeight()" style="background: linear-gradient(135deg, #FF6B6B, #FF8E8E); color: white; padding: 20px; border-radius: 20px; text-align: center; box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3); cursor: pointer;">
                            <div style="font-size: 28px; font-weight: bold;" id="current-weight">--</div>
                            <div style="font-size: 13px; opacity: 0.9;">Current Weight</div>
                            <div style="font-size: 11px; margin-top: 5px; background: rgba(255,255,255,0.2); padding: 4px 8px; border-radius: 10px; display: inline-block;" id="weight-trend">Tap to track</div>
                        </div>
                        <div onclick="editBodyFat()" style="background: linear-gradient(135deg, #4ECDC4, #44A08D); color: white; padding: 20px; border-radius: 20px; text-align: center; box-shadow: 0 5px 15px rgba(78, 205, 196, 0.3); cursor: pointer;">
                            <div style="font-size: 28px; font-weight: bold;" id="current-bodyfat">--</div>
                            <div style="font-size: 13px; opacity: 0.9;">Body Fat %</div>
                            <div style="font-size: 11px; margin-top: 5px; background: rgba(255,255,255,0.2); padding: 4px 8px; border-radius: 10px; display: inline-block;" id="bodyfat-trend">Tap to track</div>
                        </div>
                    </div>

                    <!-- Nutrition Goals Section -->
                    <div style="background: linear-gradient(135deg, #FF6B6B, #FF8E8E); color: white; border-radius: 20px; padding: 25px; margin-bottom: 25px; box-shadow: 0 5px 20px rgba(255, 107, 107, 0.3);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h4 style="margin: 0; font-size: 18px;">🍽️ Nutrition Goals</h4>
                            <div style="display: flex; gap: 8px;">
                                <button onclick="editNutritionGoals()" style="background: rgba(255,255,255,0.95); color: #FF6B6B; border: none; padding: 10px 18px; border-radius: 15px; font-size: 13px; font-weight: bold; cursor: pointer; box-shadow: 0 3px 10px rgba(0,0,0,0.2); transition: all 0.3s;">✏️ Edit</button>
                                <button onclick="deleteNutritionGoals()" style="background: rgba(0,0,0,0.2); color: white; border: none; padding: 10px 14px; border-radius: 15px; font-size: 13px; font-weight: bold; cursor: pointer; transition: all 0.3s;">🗑️</button>
                            </div>
                        </div>

                        <div id="nutrition-goals-display" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                            <!-- Will be populated by displayNutritionGoals() -->
                        </div>
                    </div>

                    <!-- Motivational Stats -->
                    <div style="background: linear-gradient(135deg, #4ECDC4, #44A08D); color: white; border-radius: 20px; padding: 25px; margin-bottom: 25px; text-align: center; box-shadow: 0 5px 20px rgba(78, 205, 196, 0.3);">
                        <div style="font-size: 42px; margin-bottom: 15px;">💪</div>
                        <h4 style="margin: 0 0 10px 0; font-size: 20px; font-weight: bold;">Your Journey Stats</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;">
                            <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 15px;">
                                <div style="font-size: 28px; font-weight: bold;" id="workouts-completed">0</div>
                                <div style="font-size: 13px; opacity: 0.9;">Total Workouts</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 15px;">
                                <div style="font-size: 28px; font-weight: bold;" id="current-streak">0</div>
                                <div style="font-size: 13px; opacity: 0.9;">Day Streak</div>
                            </div>
                        </div>
                    </div>

                    <!-- Personal Records Section -->
                    <div style="background: linear-gradient(135deg, #FFA500, #FF8C00); color: white; border-radius: 20px; padding: 25px; margin-bottom: 25px; box-shadow: 0 5px 20px rgba(255, 165, 0, 0.3);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h4 style="margin: 0; font-size: 18px;">🏆 Personal Records</h4>
                            <button onclick="addPR()" style="background: rgba(255,255,255,0.95); color: #FFA500; border: none; padding: 10px 18px; border-radius: 15px; font-size: 13px; font-weight: bold; cursor: pointer; box-shadow: 0 3px 10px rgba(0,0,0,0.2); transition: all 0.3s;">➕ Add PR</button>
                        </div>

                        <div id="pr-list" style="display: flex; flex-direction: column; gap: 12px;">
                            <!-- PRs will be populated here -->
                        </div>

                        <div id="pr-empty-state" style="text-align: center; padding: 30px 20px; background: rgba(255,255,255,0.1); border-radius: 15px;">
                            <div style="font-size: 48px; margin-bottom: 15px; opacity: 0.8;">💪</div>
                            <p style="opacity: 0.9; font-size: 14px; line-height: 1.6;">Track your personal bests! Add exercises and log your max lifts to watch your strength grow over time.</p>
                        </div>
                    </div>

                </div>

                <!-- 30-MIN MUSCLE WORKOUT SCREEN -->
                <div class="screen-content" id="workout-muscle-30">
                    <div style="background: var(--gradient-1); color: white; padding: 20px; border-radius: 20px; margin-bottom: 20px;">
                        <h2 style="font-size: 24px; margin-bottom: 10px;">💪 30-Minute Muscle Builder</h2>
                        <p style="opacity: 0.9;">Full-body strength training - 3 rounds total</p>
                    </div>
                    
                    <div style="background: var(--card-bg); padding: 20px; border-radius: 20px; margin-bottom: 20px;">
                        <h3 style="color: var(--dark); margin-bottom: 15px;">🏃 Warm-Up (3 minutes)</h3>
                        <div style="color: #666; line-height: 1.8;">
                            • Arm circles - 30 seconds each direction<br>
                            • Leg swings - 30 seconds each leg<br>
                            • Bodyweight squats - 1 minute<br>
                            • Light stretching - 30 seconds
                        </div>
                    </div>
                    
                    <div style="background: var(--card-bg); padding: 20px; border-radius: 20px; margin-bottom: 20px;">
                        <h3 style="color: var(--dark); margin-bottom: 15px;">🔥 Main Workout (24 minutes)</h3>
                        <p style="color: var(--primary-dark); margin-bottom: 15px; font-weight: bold;">Perform 3 rounds - 45 seconds work, 15 seconds rest</p>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">1️⃣ Push-Ups</h4>
                            <p style="color: #666; font-size: 14px;">Target: Chest, shoulders, triceps<br>
                            Modification: Knee push-ups if needed</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">2️⃣ Squats</h4>
                            <p style="color: #666; font-size: 14px;">Target: Quads, glutes, hamstrings<br>
                            Keep chest up, weight in heels</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">3️⃣ Dumbbell Rows</h4>
                            <p style="color: #666; font-size: 14px;">Target: Back, biceps<br>
                            Use water bottles if no weights available</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">4️⃣ Lunges (Alternating)</h4>
                            <p style="color: #666; font-size: 14px;">Target: Legs, glutes, balance<br>
                            Step back into lunge, alternate legs</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">5️⃣ Shoulder Press</h4>
                            <p style="color: #666; font-size: 14px;">Target: Shoulders, triceps<br>
                            Can use dumbbells or resistance bands</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">6️⃣ Plank</h4>
                            <p style="color: #666; font-size: 14px;">Target: Core, shoulders<br>
                            Hold strong plank position</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">7️⃣ Bicep Curls</h4>
                            <p style="color: #666; font-size: 14px;">Target: Biceps<br>
                            Control the movement, squeeze at top</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">8️⃣ Tricep Dips</h4>
                            <p style="color: #666; font-size: 14px;">Target: Triceps<br>
                            Use chair or bench, control the descent</p>
                        </div>
                    </div>
                    
                    <div style="background: var(--card-bg); padding: 20px; border-radius: 20px; margin-bottom: 20px;">
                        <h3 style="color: var(--dark); margin-bottom: 15px;">🧘 Cool-Down (3 minutes)</h3>
                        <div style="color: #666; line-height: 1.8;">
                            • Chest stretch - 30 seconds<br>
                            • Quad stretch - 30 seconds each leg<br>
                            • Shoulder stretch - 30 seconds each arm<br>
                            • Deep breathing - 1 minute
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 10px;">
                        <button onclick="showScreen('create-workout')" style="background: var(--lighter-bg); color: var(--primary-dark); border: none; padding: 15px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; flex: 1;">
                            ← Back
                        </button>
                        <button onclick="startQuickWorkout('muscle-30')" style="background: var(--gradient-1); color: white; border: none; padding: 15px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; flex: 2;">
                            🔥 Start Workout
                        </button>
                    </div>
                </div>
                
                <!-- 20-MIN HIIT WORKOUT SCREEN -->
                <div class="screen-content" id="workout-hiit-20">
                    <div style="background: var(--gradient-1); color: white; padding: 20px; border-radius: 20px; margin-bottom: 20px;">
                        <h2 style="font-size: 24px; margin-bottom: 10px;">🔥 20-Minute HIIT Blast</h2>
                        <p style="opacity: 0.9;">High-intensity fat burning - 4 rounds total</p>
                    </div>
                    
                    <div style="background: var(--card-bg); padding: 20px; border-radius: 20px; margin-bottom: 20px;">
                        <h3 style="color: var(--dark); margin-bottom: 15px;">🏃 Warm-Up (2 minutes)</h3>
                        <div style="color: #666; line-height: 1.8;">
                            • Jumping jacks - 30 seconds<br>
                            • High knees - 30 seconds<br>
                            • Butt kicks - 30 seconds<br>
                            • Dynamic stretching - 30 seconds
                        </div>
                    </div>
                    
                    <div style="background: var(--card-bg); padding: 20px; border-radius: 20px; margin-bottom: 20px;">
                        <h3 style="color: var(--dark); margin-bottom: 15px;">⚡ Main HIIT Circuit (16 minutes)</h3>
                        <p style="color: var(--primary-dark); margin-bottom: 15px; font-weight: bold;">4 rounds - 40 seconds work, 20 seconds rest</p>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">1️⃣ Burpees</h4>
                            <p style="color: #666; font-size: 14px;">Full body explosive movement<br>
                            Modification: Step back instead of jump</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">2️⃣ Mountain Climbers</h4>
                            <p style="color: #666; font-size: 14px;">Core and cardio crusher<br>
                            Keep hips low, drive knees to chest</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">3️⃣ Jump Squats</h4>
                            <p style="color: #666; font-size: 14px;">Explosive lower body power<br>
                            Land softly, immediately into next rep</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">4️⃣ High Knees</h4>
                            <p style="color: #666; font-size: 14px;">Cardio blast<br>
                            Drive knees above hip level</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">5️⃣ Push-Up to T</h4>
                            <p style="color: #666; font-size: 14px;">Upper body and core<br>
                            Push-up, then rotate to side plank</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">6️⃣ Jumping Lunges</h4>
                            <p style="color: #666; font-size: 14px;">Explosive leg workout<br>
                            Alternate legs with jump between</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">7️⃣ Plank Jacks</h4>
                            <p style="color: #666; font-size: 14px;">Core stability with cardio<br>
                            Jump feet in and out in plank position</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">8️⃣ Star Jumps</h4>
                            <p style="color: #666; font-size: 14px;">Full body finisher<br>
                            Jump spreading arms and legs wide</p>
                        </div>
                    </div>
                    
                    <div style="background: var(--card-bg); padding: 20px; border-radius: 20px; margin-bottom: 20px;">
                        <h3 style="color: var(--dark); margin-bottom: 15px;">🧘 Cool-Down (2 minutes)</h3>
                        <div style="color: #666; line-height: 1.8;">
                            • Walking in place - 30 seconds<br>
                            • Hamstring stretch - 30 seconds each<br>
                            • Hip flexor stretch - 30 seconds each<br>
                            • Deep breathing - 30 seconds
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 10px;">
                        <button onclick="showScreen('create-workout')" style="background: var(--lighter-bg); color: var(--primary-dark); border: none; padding: 15px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; flex: 1;">
                            ← Back
                        </button>
                        <button onclick="startQuickWorkout('hiit-20')" style="background: var(--gradient-1); color: white; border: none; padding: 15px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; flex: 2;">
                            🔥 Start Workout
                        </button>
                    </div>
                </div>
                
                <!-- 15-MIN MOBILITY WORKOUT SCREEN -->
                <div class="screen-content" id="workout-mobility-15">
                    <div style="background: var(--gradient-1); color: white; padding: 20px; border-radius: 20px; margin-bottom: 20px;">
                        <h2 style="font-size: 24px; margin-bottom: 10px;">🧘 15-Minute Mobility Flow</h2>
                        <p style="opacity: 0.9;">Flexibility, recovery, and injury prevention</p>
                    </div>
                    
                    <div style="background: var(--card-bg); padding: 20px; border-radius: 20px; margin-bottom: 20px;">
                        <h3 style="color: var(--dark); margin-bottom: 15px;">🌟 Opening Sequence (3 minutes)</h3>
                        <div style="color: #666; line-height: 1.8;">
                            • Neck rolls - 30 seconds each direction<br>
                            • Shoulder rolls - 30 seconds backward, 30 forward<br>
                            • Arm circles - 30 seconds each direction<br>
                            • Torso twists - 1 minute
                        </div>
                    </div>
                    
                    <div style="background: var(--card-bg); padding: 20px; border-radius: 20px; margin-bottom: 20px;">
                        <h3 style="color: var(--dark); margin-bottom: 15px;">🌊 Mobility Flow (10 minutes)</h3>
                        <p style="color: var(--primary-dark); margin-bottom: 15px; font-weight: bold;">Hold each position for 45-60 seconds</p>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">1️⃣ Cat-Cow Stretch</h4>
                            <p style="color: #666; font-size: 14px;">Spine mobility<br>
                            Flow between positions with breath</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">2️⃣ Downward Dog</h4>
                            <p style="color: #666; font-size: 14px;">Full body stretch<br>
                            Pedal feet, stretch calves and hamstrings</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">3️⃣ Hip Circles</h4>
                            <p style="color: #666; font-size: 14px;">Hip mobility<br>
                            Large circles in both directions</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">4️⃣ Pigeon Pose</h4>
                            <p style="color: #666; font-size: 14px;">Deep hip stretch<br>
                            30 seconds each side</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">5️⃣ Thread the Needle</h4>
                            <p style="color: #666; font-size: 14px;">Shoulder and spine mobility<br>
                            Rotate and reach through</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">6️⃣ Seated Forward Fold</h4>
                            <p style="color: #666; font-size: 14px;">Hamstring and back stretch<br>
                            Breathe deeply, relax into stretch</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">7️⃣ Ankle Circles</h4>
                            <p style="color: #666; font-size: 14px;">Ankle mobility<br>
                            Both directions, both feet</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">8️⃣ Child's Pose</h4>
                            <p style="color: #666; font-size: 14px;">Restorative stretch<br>
                            Breathe and relax completely</p>
                        </div>
                    </div>
                    
                    <div style="background: var(--card-bg); padding: 20px; border-radius: 20px; margin-bottom: 20px;">
                        <h3 style="color: var(--dark); margin-bottom: 15px;">🌙 Closing (2 minutes)</h3>
                        <div style="color: #666; line-height: 1.8;">
                            • Seated meditation - 1 minute<br>
                            • Gratitude breathing - 30 seconds<br>
                            • Set intention for the day - 30 seconds
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 10px;">
                        <button onclick="showScreen('create-workout')" style="background: var(--lighter-bg); color: var(--primary-dark); border: none; padding: 15px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; flex: 1;">
                            ← Back
                        </button>
                        <button onclick="startQuickWorkout('mobility-15')" style="background: var(--gradient-1); color: white; border: none; padding: 15px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; flex: 2;">
                            🧘 Start Flow
                        </button>
                    </div>
                </div>
                
                <!-- 10-MIN CORE WORKOUT SCREEN -->
                <div class="screen-content" id="workout-core-10">
                    <div style="background: var(--gradient-1); color: white; padding: 20px; border-radius: 20px; margin-bottom: 20px;">
                        <h2 style="font-size: 24px; margin-bottom: 10px;">🎯 10-Minute Core Crusher</h2>
                        <p style="opacity: 0.9;">Intense ab workout - no rest between exercises</p>
                    </div>
                    
                    <div style="background: var(--card-bg); padding: 20px; border-radius: 20px; margin-bottom: 20px;">
                        <h3 style="color: var(--dark); margin-bottom: 15px;">🔥 Core Circuit (9 minutes)</h3>
                        <p style="color: var(--primary-dark); margin-bottom: 15px; font-weight: bold;">45 seconds per exercise, 15 seconds transition</p>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">1️⃣ Plank</h4>
                            <p style="color: #666; font-size: 14px;">Core stabilization<br>
                            Keep body straight, breathe normally</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">2️⃣ Bicycle Crunches</h4>
                            <p style="color: #666; font-size: 14px;">Obliques and upper abs<br>
                            Elbow to opposite knee, controlled</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">3️⃣ Russian Twists</h4>
                            <p style="color: #666; font-size: 14px;">Obliques and rotation<br>
                            Lean back, twist side to side</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">4️⃣ Mountain Climbers</h4>
                            <p style="color: #666; font-size: 14px;">Dynamic core work<br>
                            Drive knees to chest rapidly</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">5️⃣ Leg Raises</h4>
                            <p style="color: #666; font-size: 14px;">Lower abs focus<br>
                            Keep lower back pressed down</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">6️⃣ Flutter Kicks</h4>
                            <p style="color: #666; font-size: 14px;">Lower abs and hip flexors<br>
                            Small, quick kicks</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">7️⃣ Side Plank (Right)</h4>
                            <p style="color: #666; font-size: 14px;">Obliques and stability<br>
                            Stack feet or modify on knees</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">8️⃣ Side Plank (Left)</h4>
                            <p style="color: #666; font-size: 14px;">Obliques and stability<br>
                            Stack feet or modify on knees</p>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding: 15px; background: var(--lighter-bg); border-radius: 15px;">
                            <h4 style="color: var(--dark); margin-bottom: 8px;">9️⃣ Hollow Body Hold</h4>
                            <p style="color: #666; font-size: 14px;">Total core engagement<br>
                            Press lower back down, hold position</p>
                        </div>
                    </div>
                    
                    <div style="background: var(--card-bg); padding: 20px; border-radius: 20px; margin-bottom: 20px;">
                        <h3 style="color: var(--dark); margin-bottom: 15px;">🧘 Cool-Down (1 minute)</h3>
                        <div style="color: #666; line-height: 1.8;">
                            • Cobra stretch - 30 seconds<br>
                            • Knee to chest stretches - 30 seconds
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 10px;">
                        <button onclick="showScreen('create-workout')" style="background: var(--lighter-bg); color: var(--primary-dark); border: none; padding: 15px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; flex: 1;">
                            ← Back
                        </button>
                        <button onclick="startQuickWorkout('core-10')" style="background: var(--gradient-1); color: white; border: none; padding: 15px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; flex: 2;">
                            💪 Start Workout
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Workout Info Display -->
    <div class="screen-content" id="workout-info" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--light-bg); z-index: 1000; overflow-y: auto;">
        <div style="max-width: 375px; margin: 0 auto; padding: 20px;">
            <div id="workout-info-content">
                <!-- Content will be dynamically generated -->
            </div>
            
            <div style="display: flex; gap: 15px; margin-top: 30px; position: sticky; bottom: 20px; background: var(--light-bg); padding: 20px 0;">
                <button onclick="closeWorkoutInfo()" style="background: transparent; border: 2px solid var(--lighter-bg); color: var(--primary-dark); padding: 15px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; flex: 1;">
                    ← Back
                </button>
                <button onclick="startWorkoutProgramFromInfo()" style="background: var(--gradient-1); color: white; border: none; padding: 15px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; flex: 2;">
                    🚀 Start Program
                </button>
            </div>
        </div>
    </div>

    <!-- Quick Workout Quiz -->
    <div class="screen-content" id="quick-workout-quiz" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--light-bg); z-index: 1000; overflow-y: auto;">
        <div style="max-width: 375px; margin: 0 auto; padding: 20px;">
            <div style="margin-bottom: 30px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2 style="color: var(--dark); margin: 0;">🏋️ Quick Workout</h2>
                    <span style="color: var(--carolina-blue); font-size: 14px;">Step <span id="quick-quiz-step">1</span> of 5</span>
                </div>
                <div style="background: var(--lighter-bg); height: 8px; border-radius: 10px; overflow: hidden;">
                    <div id="quick-quiz-progress" style="background: var(--gradient-1); height: 100%; width: 20%; transition: width 0.3s ease;"></div>
                </div>
            </div>

            <!-- Question Container -->
            <div id="quick-quiz-container">
                <!-- Question 1: Muscle Groups -->
                <div class="quick-quiz-question" data-step="1" style="display: block;">
                    <h3 style="color: var(--dark); margin-bottom: 25px; font-size: 22px;">💪 What do you want to work on?</h3>

                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 15px; color: var(--primary-dark); font-weight: 600;">Select muscle groups (one or more):</label>

                        <!-- High-Level Options -->
                        <div style="margin-bottom: 15px;">
                            <p style="font-size: 14px; color: #666; margin-bottom: 10px;">Major Muscle Groups:</p>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                                <label style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 15px; border-radius: 15px; cursor: pointer; display: flex; align-items: center; gap: 10px;">
                                    <input type="checkbox" class="quick-muscle-check" value="chest" style="width: 20px; height: 20px;">
                                    <span>💪 Chest</span>
                                </label>
                                <label style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 15px; border-radius: 15px; cursor: pointer; display: flex; align-items: center; gap: 10px;">
                                    <input type="checkbox" class="quick-muscle-check" value="back" style="width: 20px; height: 20px;">
                                    <span>🔨 Back</span>
                                </label>
                                <label style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 15px; border-radius: 15px; cursor: pointer; display: flex; align-items: center; gap: 10px;">
                                    <input type="checkbox" class="quick-muscle-check" value="legs" style="width: 20px; height: 20px;">
                                    <span>🦵 Legs</span>
                                </label>
                                <label style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 15px; border-radius: 15px; cursor: pointer; display: flex; align-items: center; gap: 10px;">
                                    <input type="checkbox" class="quick-muscle-check" value="arms" style="width: 20px; height: 20px;">
                                    <span>💪 Arms</span>
                                </label>
                                <label style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 15px; border-radius: 15px; cursor: pointer; display: flex; align-items: center; gap: 10px;">
                                    <input type="checkbox" class="quick-muscle-check" value="shoulders" style="width: 20px; height: 20px;">
                                    <span>🏋️ Shoulders</span>
                                </label>
                                <label style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 15px; border-radius: 15px; cursor: pointer; display: flex; align-items: center; gap: 10px;">
                                    <input type="checkbox" class="quick-muscle-check" value="core" style="width: 20px; height: 20px;">
                                    <span>🎯 Core</span>
                                </label>
                            </div>
                        </div>

                        <!-- Specific Muscle Groups -->
                        <div style="margin-top: 20px;">
                            <p style="font-size: 14px; color: #666; margin-bottom: 10px;">Specific Muscles:</p>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                                <label style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 12px; border-radius: 12px; cursor: pointer; display: flex; align-items: center; gap: 8px; font-size: 14px;">
                                    <input type="checkbox" class="quick-muscle-check" value="quads" style="width: 18px; height: 18px;">
                                    <span>Quads</span>
                                </label>
                                <label style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 12px; border-radius: 12px; cursor: pointer; display: flex; align-items: center; gap: 8px; font-size: 14px;">
                                    <input type="checkbox" class="quick-muscle-check" value="hamstrings" style="width: 18px; height: 18px;">
                                    <span>Hamstrings</span>
                                </label>
                                <label style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 12px; border-radius: 12px; cursor: pointer; display: flex; align-items: center; gap: 8px; font-size: 14px;">
                                    <input type="checkbox" class="quick-muscle-check" value="calves" style="width: 18px; height: 18px;">
                                    <span>Calves</span>
                                </label>
                                <label style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 12px; border-radius: 12px; cursor: pointer; display: flex; align-items: center; gap: 8px; font-size: 14px;">
                                    <input type="checkbox" class="quick-muscle-check" value="glutes" style="width: 18px; height: 18px;">
                                    <span>Glutes</span>
                                </label>
                                <label style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 12px; border-radius: 12px; cursor: pointer; display: flex; align-items: center; gap: 8px; font-size: 14px;">
                                    <input type="checkbox" class="quick-muscle-check" value="biceps" style="width: 18px; height: 18px;">
                                    <span>Biceps</span>
                                </label>
                                <label style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 12px; border-radius: 12px; cursor: pointer; display: flex; align-items: center; gap: 8px; font-size: 14px;">
                                    <input type="checkbox" class="quick-muscle-check" value="triceps" style="width: 18px; height: 18px;">
                                    <span>Triceps</span>
                                </label>
                                <label style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 12px; border-radius: 12px; cursor: pointer; display: flex; align-items: center; gap: 8px; font-size: 14px;">
                                    <input type="checkbox" class="quick-muscle-check" value="forearms" style="width: 18px; height: 18px;">
                                    <span>Forearms</span>
                                </label>
                                <label style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 12px; border-radius: 12px; cursor: pointer; display: flex; align-items: center; gap: 8px; font-size: 14px;">
                                    <input type="checkbox" class="quick-muscle-check" value="traps" style="width: 18px; height: 18px;">
                                    <span>Traps</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Question 2: Workout Time -->
                <div class="quick-quiz-question" data-step="2" style="display: none;">
                    <h3 style="color: var(--dark); margin-bottom: 25px; font-size: 22px;">⏱️ How much time do you have?</h3>

                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                        <button class="quick-select-btn" onclick="quickSelectOption(this, 'time', '15')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease;">
                            <div style="font-size: 24px; margin-bottom: 5px;">⚡</div>
                            <div style="font-weight: bold;">15 min</div>
                        </button>
                        <button class="quick-select-btn" onclick="quickSelectOption(this, 'time', '30')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease;">
                            <div style="font-size: 24px; margin-bottom: 5px;">🔥</div>
                            <div style="font-weight: bold;">30 min</div>
                        </button>
                        <button class="quick-select-btn" onclick="quickSelectOption(this, 'time', '45')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease;">
                            <div style="font-size: 24px; margin-bottom: 5px;">💪</div>
                            <div style="font-weight: bold;">45 min</div>
                        </button>
                        <button class="quick-select-btn" onclick="quickSelectOption(this, 'time', '60')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease;">
                            <div style="font-size: 24px; margin-bottom: 5px;">🏋️</div>
                            <div style="font-weight: bold;">60 min</div>
                        </button>
                        <button class="quick-select-btn" onclick="quickSelectOption(this, 'time', '75')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease;">
                            <div style="font-size: 24px; margin-bottom: 5px;">💯</div>
                            <div style="font-weight: bold;">75 min</div>
                        </button>
                        <button class="quick-select-btn" onclick="quickSelectOption(this, 'time', '90')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease;">
                            <div style="font-size: 24px; margin-bottom: 5px;">🔋</div>
                            <div style="font-weight: bold;">90 min</div>
                        </button>
                        <button class="quick-select-btn" onclick="quickSelectOption(this, 'time', '120')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease; grid-column: span 2;">
                            <div style="font-size: 24px; margin-bottom: 5px;">🦾</div>
                            <div style="font-weight: bold;">120 min (Beast Mode)</div>
                        </button>
                    </div>
                </div>

                <!-- Question 3: Location -->
                <div class="quick-quiz-question" data-step="3" style="display: none;">
                    <h3 style="color: var(--dark); margin-bottom: 25px; font-size: 22px;">📍 Where are you working out?</h3>

                    <div style="display: grid; gap: 15px;">
                        <button class="quick-select-btn" onclick="quickSelectOption(this, 'location', 'full-gym')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 25px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease; text-align: left;">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="font-size: 32px;">🏋️‍♂️</div>
                                <div>
                                    <div style="font-weight: bold; font-size: 18px; margin-bottom: 5px;">Full Gym</div>
                                    <div style="color: #666; font-size: 14px;">Access to all equipment</div>
                                </div>
                            </div>
                        </button>
                        <button class="quick-select-btn" onclick="quickSelectOption(this, 'location', 'hotel-gym')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 25px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease; text-align: left;">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="font-size: 32px;">🏨</div>
                                <div>
                                    <div style="font-weight: bold; font-size: 18px; margin-bottom: 5px;">Hotel Gym (Limited)</div>
                                    <div style="color: #666; font-size: 14px;">Basic equipment, dumbbells</div>
                                </div>
                            </div>
                        </button>
                        <button class="quick-select-btn" onclick="quickSelectOption(this, 'location', 'home')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 25px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease; text-align: left;">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="font-size: 32px;">🏠</div>
                                <div>
                                    <div style="font-weight: bold; font-size: 18px; margin-bottom: 5px;">At Home</div>
                                    <div style="color: #666; font-size: 14px;">Minimal or no equipment</div>
                                </div>
                            </div>
                        </button>
                    </div>
                </div>

                <!-- Question 4: Workout Style -->
                <div class="quick-quiz-question" data-step="4" style="display: none;">
                    <h3 style="color: var(--dark); margin-bottom: 25px; font-size: 22px;">🎯 What style do you prefer?</h3>

                    <div style="display: grid; gap: 15px;">
                        <button class="quick-select-btn" onclick="quickSelectOption(this, 'style', 'standard')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 25px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease; text-align: left;">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="font-size: 32px;">📋</div>
                                <div>
                                    <div style="font-weight: bold; font-size: 18px; margin-bottom: 5px;">Standard Workouts</div>
                                    <div style="color: #666; font-size: 14px;">Classic exercises you know and trust</div>
                                </div>
                            </div>
                        </button>
                        <button class="quick-select-btn" onclick="quickSelectOption(this, 'style', 'unique')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 25px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease; text-align: left;">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="font-size: 32px;">✨</div>
                                <div>
                                    <div style="font-weight: bold; font-size: 18px; margin-bottom: 5px;">Unique Workouts</div>
                                    <div style="color: #666; font-size: 14px;">Try something new and different</div>
                                </div>
                            </div>
                        </button>
                    </div>
                </div>

                <!-- Question 5: Intensity -->
                <div class="quick-quiz-question" data-step="5" style="display: none;">
                    <h3 style="color: var(--dark); margin-bottom: 25px; font-size: 22px;">🔥 How hard do you want to go?</h3>

                    <div style="display: grid; gap: 15px;">
                        <button class="quick-select-btn" onclick="quickSelectOption(this, 'intensity', 'light')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 25px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease; text-align: left;">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="font-size: 32px;">🌱</div>
                                <div>
                                    <div style="font-weight: bold; font-size: 18px; margin-bottom: 5px;">Light & Easy</div>
                                    <div style="color: #666; font-size: 14px;">Recovery or active rest day</div>
                                </div>
                            </div>
                        </button>
                        <button class="quick-select-btn" onclick="quickSelectOption(this, 'intensity', 'moderate')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 25px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease; text-align: left;">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="font-size: 32px;">💪</div>
                                <div>
                                    <div style="font-weight: bold; font-size: 18px; margin-bottom: 5px;">Moderate</div>
                                    <div style="color: #666; font-size: 14px;">Solid workout, sustainable pace</div>
                                </div>
                            </div>
                        </button>
                        <button class="quick-select-btn" onclick="quickSelectOption(this, 'intensity', 'intense')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 25px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease; text-align: left;">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="font-size: 32px;">🔥</div>
                                <div>
                                    <div style="font-weight: bold; font-size: 18px; margin-bottom: 5px;">Intense</div>
                                    <div style="color: #666; font-size: 14px;">Push your limits today</div>
                                </div>
                            </div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Navigation Buttons -->
            <div style="display: flex; justify-content: space-between; margin-top: 30px;">
                <button id="quick-quiz-back-btn" onclick="previousQuickQuestion()" style="background: transparent; border: 2px solid var(--lighter-bg); color: var(--primary-dark); padding: 12px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; display: none;">← Back</button>
                <button id="quick-quiz-next-btn" onclick="nextQuickQuestion()" style="background: var(--gradient-1); color: white; border: none; padding: 12px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; margin-left: auto;">Next →</button>
            </div>

            <!-- Close button -->
            <button onclick="closeQuickWorkoutQuiz()" style="position: absolute; top: 20px; right: 20px; background: transparent; border: none; font-size: 24px; cursor: pointer; color: #999;">×</button>
        </div>
    </div>

    <!-- Custom Workout Questionnaire -->
    <div class="screen-content" id="custom-workout-quiz" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--light-bg); z-index: 1000; overflow-y: auto;">
        <div style="max-width: 375px; margin: 0 auto; padding: 20px;">
            <div style="margin-bottom: 30px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2 style="color: var(--dark); margin: 0;">Create Your Perfect Workout</h2>
                    <span style="color: var(--carolina-blue); font-size: 14px;">Step <span id="quiz-step">1</span> of 7</span>
                </div>
                <div style="background: var(--lighter-bg); height: 8px; border-radius: 10px; overflow: hidden;">
                    <div id="quiz-progress" style="background: var(--gradient-1); height: 100%; width: 14%; transition: width 0.3s ease;"></div>
                </div>
            </div>
            
            <!-- Question Container -->
            <div id="quiz-container">
                <!-- Question 1: Basic Info -->
                <div class="quiz-question-section active" data-step="1">
                    <h3 style="color: var(--dark); margin-bottom: 25px; font-size: 22px;">👤 Let's start with the basics</h3>
                    
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 10px; color: var(--primary-dark); font-weight: 600;">Biological Sex</label>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <button class="quiz-select-btn" onclick="selectOption(this, 'sex', 'male')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease;">
                                <span style="font-size: 24px;">♂️</span>
                                <div style="font-weight: bold; margin-top: 5px;">Male</div>
                            </button>
                            <button class="quiz-select-btn" onclick="selectOption(this, 'sex', 'female')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease;">
                                <span style="font-size: 24px;">♀️</span>
                                <div style="font-weight: bold; margin-top: 5px;">Female</div>
                            </button>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 10px; color: var(--primary-dark); font-weight: 600;">Age</label>
                        <input type="number" id="age-input" placeholder="Enter your age" style="width: 100%; padding: 15px; border: 2px solid var(--lighter-bg); border-radius: 15px; font-size: 16px; background: var(--card-bg);">
                    </div>
                    
                    <div>
                        <label style="display: block; margin-bottom: 10px; color: var(--primary-dark); font-weight: 600;">Fitness Level</label>
                        <div style="display: grid; gap: 12px;">
                            <button class="quiz-select-btn" onclick="selectOption(this, 'level', 'beginner')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 15px 20px; border-radius: 15px; cursor: pointer; text-align: left; transition: all 0.3s ease;">
                                <div style="font-weight: bold;">🌱 Beginner</div>
                                <div style="font-size: 14px; color: #666; margin-top: 5px;">New to fitness or returning after a break</div>
                            </button>
                            <button class="quiz-select-btn" onclick="selectOption(this, 'level', 'intermediate')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 15px 20px; border-radius: 15px; cursor: pointer; text-align: left; transition: all 0.3s ease;">
                                <div style="font-weight: bold;">💪 Intermediate</div>
                                <div style="font-size: 14px; color: #666; margin-top: 5px;">Working out regularly for 6+ months</div>
                            </button>
                            <button class="quiz-select-btn" onclick="selectOption(this, 'level', 'advanced')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 15px 20px; border-radius: 15px; cursor: pointer; text-align: left; transition: all 0.3s ease;">
                                <div style="font-weight: bold;">🔥 Advanced</div>
                                <div style="font-size: 14px; color: #666; margin-top: 5px;">Training consistently for years</div>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Question 2: Goals -->
                <div class="quiz-question-section" data-step="2" style="display: none;">
                    <h3 style="color: var(--dark); margin-bottom: 25px; font-size: 22px;">🎯 What's your primary goal?</h3>
                    
                    <div style="display: grid; gap: 15px;">
                        <button class="quiz-select-btn" onclick="selectOption(this, 'goal', 'muscle')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; text-align: left; transition: all 0.3s ease;">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <span style="font-size: 32px;">🏗️</span>
                                <div>
                                    <div style="font-weight: bold; font-size: 18px;">Build Muscle</div>
                                    <div style="font-size: 14px; color: #666; margin-top: 5px;">Increase muscle mass and strength</div>
                                </div>
                            </div>
                        </button>
                        
                        <button class="quiz-select-btn" onclick="selectOption(this, 'goal', 'fat-loss')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; text-align: left; transition: all 0.3s ease;">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <span style="font-size: 32px;">🔥</span>
                                <div>
                                    <div style="font-weight: bold; font-size: 18px;">Lose Fat</div>
                                    <div style="font-size: 14px; color: #666; margin-top: 5px;">Reduce body fat and get lean</div>
                                </div>
                            </div>
                        </button>
                        
                        <button class="quiz-select-btn" onclick="selectOption(this, 'goal', 'endurance')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; text-align: left; transition: all 0.3s ease;">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <span style="font-size: 32px;">🏃</span>
                                <div>
                                    <div style="font-weight: bold; font-size: 18px;">Improve Endurance</div>
                                    <div style="font-size: 14px; color: #666; margin-top: 5px;">Boost cardiovascular fitness</div>
                                </div>
                            </div>
                        </button>
                        
                        <button class="quiz-select-btn" onclick="selectOption(this, 'goal', 'overall')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; text-align: left; transition: all 0.3s ease;">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <span style="font-size: 32px;">⚖️</span>
                                <div>
                                    <div style="font-weight: bold; font-size: 18px;">Overall Fitness</div>
                                    <div style="font-size: 14px; color: #666; margin-top: 5px;">Balance of strength, cardio, and flexibility</div>
                                </div>
                            </div>
                        </button>
                    </div>
                </div>
                
                <!-- Question 3: Training Style -->
                <div class="quiz-question-section" data-step="3" style="display: none;">
                    <h3 style="color: var(--dark); margin-bottom: 25px; font-size: 22px;">🏋️ Preferred training style?</h3>
                    
                    <div style="display: grid; gap: 15px;">
                        <button class="quiz-select-btn" onclick="selectOption(this, 'style', 'weights')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; text-align: left; transition: all 0.3s ease;">
                            <div style="font-weight: bold; font-size: 18px;">💪 Weight Training</div>
                            <div style="font-size: 14px; color: #666; margin-top: 5px;">Focus on barbells, dumbbells, and machines</div>
                        </button>
                        
                        <button class="quiz-select-btn" onclick="selectOption(this, 'style', 'bodyweight')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; text-align: left; transition: all 0.3s ease;">
                            <div style="font-weight: bold; font-size: 18px;">🤸 Bodyweight</div>
                            <div style="font-size: 14px; color: #666; margin-top: 5px;">Calisthenics and minimal equipment</div>
                        </button>
                        
                        <button class="quiz-select-btn" onclick="selectOption(this, 'style', 'cardio')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; text-align: left; transition: all 0.3s ease;">
                            <div style="font-weight: bold; font-size: 18px;">🏃 Cardio Focus</div>
                            <div style="font-size: 14px; color: #666; margin-top: 5px;">Running, cycling, swimming</div>
                        </button>
                        
                        <button class="quiz-select-btn" onclick="selectOption(this, 'style', 'mixed')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; text-align: left; transition: all 0.3s ease;">
                            <div style="font-weight: bold; font-size: 18px;">🔄 Mixed/Hybrid</div>
                            <div style="font-size: 14px; color: #666; margin-top: 5px;">Combination of everything</div>
                        </button>
                    </div>
                </div>
                
                <!-- Continue with all 7 questions... -->
                
                <!-- Question 4: Availability -->
                <div class="quiz-question-section" data-step="4" style="display: none;">
                    <h3 style="color: var(--dark); margin-bottom: 25px; font-size: 22px;">📅 How many days can you train?</h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 25px;">
                        <button class="quiz-select-btn" onclick="selectOption(this, 'days', '3')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; text-align: center; transition: all 0.3s ease;">
                            <div style="font-size: 24px; font-weight: bold;">3</div>
                            <div style="font-size: 14px; color: #666;">days/week</div>
                        </button>
                        <button class="quiz-select-btn" onclick="selectOption(this, 'days', '4')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; text-align: center; transition: all 0.3s ease;">
                            <div style="font-size: 24px; font-weight: bold;">4</div>
                            <div style="font-size: 14px; color: #666;">days/week</div>
                        </button>
                        <button class="quiz-select-btn" onclick="selectOption(this, 'days', '5')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; text-align: center; transition: all 0.3s ease;">
                            <div style="font-size: 24px; font-weight: bold;">5</div>
                            <div style="font-size: 14px; color: #666;">days/week</div>
                        </button>
                        <button class="quiz-select-btn" onclick="selectOption(this, 'days', '6')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; text-align: center; transition: all 0.3s ease;">
                            <div style="font-size: 24px; font-weight: bold;">6</div>
                            <div style="font-size: 14px; color: #666;">days/week</div>
                        </button>
                    </div>
                    
                    <div>
                        <label style="display: block; margin-bottom: 10px; color: var(--primary-dark); font-weight: 600;">⏱️ How long per session?</label>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                            <button class="quiz-select-btn" onclick="selectOption(this, 'duration', '30')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 15px; border-radius: 15px; cursor: pointer; transition: all 0.3s ease;">30 minutes</button>
                            <button class="quiz-select-btn" onclick="selectOption(this, 'duration', '45')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 15px; border-radius: 15px; cursor: pointer; transition: all 0.3s ease;">45 minutes</button>
                            <button class="quiz-select-btn" onclick="selectOption(this, 'duration', '60')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 15px; border-radius: 15px; cursor: pointer; transition: all 0.3s ease;">60 minutes</button>
                            <button class="quiz-select-btn" onclick="selectOption(this, 'duration', '90')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 15px; border-radius: 15px; cursor: pointer; transition: all 0.3s ease;">90+ minutes</button>
                        </div>
                    </div>
                </div>
                
                <!-- Question 5: Equipment -->
                <div class="quiz-question-section" data-step="5" style="display: none;">
                    <h3 style="color: var(--dark); margin-bottom: 25px; font-size: 22px;">🏠 Where will you train?</h3>
                    
                    <div style="display: grid; gap: 15px;">
                        <button class="quiz-select-btn" onclick="selectOption(this, 'location', 'gym')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; text-align: left; transition: all 0.3s ease;">
                            <div style="font-weight: bold; font-size: 18px;">🏢 Full Gym</div>
                            <div style="font-size: 14px; color: #666; margin-top: 5px;">Access to all equipment</div>
                        </button>
                        
                        <button class="quiz-select-btn" onclick="selectOption(this, 'location', 'home-equipped')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; text-align: left; transition: all 0.3s ease;">
                            <div style="font-weight: bold; font-size: 18px;">🏠 Home Gym</div>
                            <div style="font-size: 14px; color: #666; margin-top: 5px;">Dumbbells, bench, basic equipment</div>
                        </button>
                        
                        <button class="quiz-select-btn" onclick="selectOption(this, 'location', 'home-minimal')" style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 20px; border-radius: 20px; cursor: pointer; text-align: left; transition: all 0.3s ease;">
                            <div style="font-weight: bold; font-size: 18px;">🏠 Home - Minimal</div>
                            <div style="font-size: 14px; color: #666; margin-top: 5px;">Bodyweight and resistance bands only</div>
                        </button>
                    </div>
                </div>
                
                <!-- Question 6: Injuries -->
                <div class="quiz-question-section" data-step="6" style="display: none;">
                    <h3 style="color: var(--dark); margin-bottom: 25px; font-size: 22px;">🏥 Any injuries or limitations?</h3>
                    
                    <div style="display: grid; gap: 12px; margin-bottom: 20px;">
                        <label style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 15px 20px; border-radius: 15px; cursor: pointer; display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" onchange="updateInjuries(this, 'knee')" style="width: 20px; height: 20px;">
                            <span>🦵 Knee issues</span>
                        </label>
                        
                        <label style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 15px 20px; border-radius: 15px; cursor: pointer; display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" onchange="updateInjuries(this, 'back')" style="width: 20px; height: 20px;">
                            <span>🔙 Back problems</span>
                        </label>
                        
                        <label style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 15px 20px; border-radius: 15px; cursor: pointer; display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" onchange="updateInjuries(this, 'shoulder')" style="width: 20px; height: 20px;">
                            <span>💪 Shoulder injury</span>
                        </label>
                        
                        <label style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 15px 20px; border-radius: 15px; cursor: pointer; display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" onchange="updateInjuries(this, 'wrist')" style="width: 20px; height: 20px;">
                            <span>🤚 Wrist/Elbow issues</span>
                        </label>
                        
                        <label style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 15px 20px; border-radius: 15px; cursor: pointer; display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" onchange="updateInjuries(this, 'ankle')" style="width: 20px; height: 20px;">
                            <span>🦶 Ankle/Foot problems</span>
                        </label>
                        
                        <label style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 15px 20px; border-radius: 15px; cursor: pointer; display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" onchange="updateInjuries(this, 'hip')" style="width: 20px; height: 20px;">
                            <span>🦴 Hip mobility issues</span>
                        </label>
                        
                        <label style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 15px 20px; border-radius: 15px; cursor: pointer; display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" onchange="updateInjuries(this, 'neck')" style="width: 20px; height: 20px;">
                            <span>🧑 Neck/Cervical issues</span>
                        </label>
                        
                        <label style="background: var(--card-bg); border: 2px solid var(--lighter-bg); padding: 15px 20px; border-radius: 15px; cursor: pointer; display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" onchange="updateInjuries(this, 'none')" style="width: 20px; height: 20px;">
                            <span>✅ No injuries - I'm good to go!</span>
                        </label>
                    </div>
                </div>
                
                <!-- Question 7: Experience -->
                <div class="quiz-question-section" data-step="7" style="display: none;">
                    <h3 style="color: var(--dark); margin-bottom: 25px; font-size: 22px;">💡 Final details</h3>
                    
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 10px; color: var(--primary-dark); font-weight: 600;">What's your workout experience?</label>
                        <textarea id="experience" placeholder="Tell us about your fitness journey..." style="width: 100%; padding: 15px; border: 2px solid var(--lighter-bg); border-radius: 15px; font-size: 16px; background: var(--card-bg); min-height: 100px; resize: none;"></textarea>
                    </div>
                    
                    <div>
                        <label style="display: block; margin-bottom: 10px; color: var(--primary-dark); font-weight: 600;">Name your custom workout:</label>
                        <input type="text" id="workout-name" placeholder="e.g., My Summer Shred Plan" style="width: 100%; padding: 15px; border: 2px solid var(--lighter-bg); border-radius: 15px; font-size: 16px; background: var(--card-bg);">
                    </div>
                </div>
            </div>
            
            <!-- Navigation Buttons -->
            <div style="display: flex; justify-content: space-between; margin-top: 30px;">
                <button id="quiz-back-btn" onclick="previousQuestion()" style="background: transparent; border: 2px solid var(--lighter-bg); color: var(--primary-dark); padding: 12px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; display: none;">← Back</button>
                <button id="quiz-next-btn" onclick="nextQuestion()" style="background: var(--gradient-1); color: white; border: none; padding: 12px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; margin-left: auto;">Next →</button>
            </div>
            
            <!-- Close button -->
            <button onclick="closeCustomWorkout()" style="position: absolute; top: 20px; right: 20px; background: transparent; border: none; font-size: 24px; cursor: pointer; color: #999;">×</button>
        </div>
    </div>
    
    <!-- AI Generating Screen -->
    <div class="screen-content" id="generating-workout" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--light-bg); z-index: 1000;">
        <div style="max-width: 375px; margin: 0 auto; padding: 60px 20px; text-align: center;">
            <div style="font-size: 64px; margin-bottom: 30px; animation: pulse 2s ease-in-out infinite;">🤖</div>
            <h2 style="color: var(--dark); margin-bottom: 20px;">Creating Your Perfect Workout...</h2>
            <p style="color: var(--primary-dark); margin-bottom: 30px;">Our AI is analyzing your responses and designing a personalized program just for you.</p>
            
            <div style="background: var(--lighter-bg); height: 8px; border-radius: 10px; overflow: hidden; margin-bottom: 20px;">
                <div style="background: var(--gradient-1); height: 100%; width: 0%; animation: loadingBar 3s ease-out forwards;"></div>
            </div>
            
            <div id="generating-status" style="color: #666; font-style: italic;">Analyzing your fitness profile...</div>
        </div>
    </div>
    
    <!-- Generated Workout Display -->
    <div class="screen-content" id="generated-workout" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--light-bg); z-index: 1000; overflow-y: auto;">
        <div style="max-width: 375px; margin: 0 auto; padding: 20px;">
            <div style="background: var(--gradient-1); color: white; padding: 30px; border-radius: 25px; margin-bottom: 25px; text-align: center;">
                <h2 style="font-size: 28px; margin-bottom: 10px;">🎉 Your Custom Workout is Ready!</h2>
                <p style="opacity: 0.9;">Designed specifically for your goals and preferences</p>
            </div>
            
            <div id="workout-plan-content">
                <!-- Content will be dynamically generated -->
            </div>
            
            <div style="display: flex; gap: 15px; margin-top: 30px;">
                <button onclick="saveWorkoutPlan()" ontouchstart="" style="background: var(--gradient-1); color: white; border: none; padding: 15px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; flex: 1; -webkit-tap-highlight-color: rgba(0,0,0,0.1);">💾 Save Workout</button>
                <button onclick="startWorkoutNow()" style="background: var(--gradient-2); color: white; border: none; padding: 15px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; flex: 1;">🔥 Start Now</button>
            </div>
            
            <button onclick="closeGeneratedWorkout()" style="margin-top: 20px; background: transparent; border: 2px solid var(--lighter-bg); color: var(--primary-dark); padding: 12px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; width: 100%;">← Back to Workouts</button>
        </div>
    </div>
    
    <!-- WORKOUT PROGRAM SCREEN -->
    <div class="screen-content" id="workout-program" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--light-bg); z-index: 1000; overflow-y: auto;">
        <div style="padding: 20px; max-width: 400px; margin: 0 auto;">
            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
                <button onclick="closeWorkoutProgram()" style="background: var(--lighter-bg); border: none; padding: 10px 15px; border-radius: 15px; cursor: pointer; color: var(--primary);">
                    ← Back
                </button>
                <h2 id="program-title" style="color: var(--dark); margin: 0; font-size: 18px; text-align: center;">Workout Program</h2>
                <div style="width: 60px;"></div>
            </div>
            
            <div id="program-content">
                <!-- Program content will be loaded here -->
            </div>
        </div>
    </div>
    
    <!-- WORKOUT TRACKER SCREEN -->
    <div class="screen-content" id="workout-tracker" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--light-bg); z-index: 1000; overflow-y: auto;">
        <div style="padding: 20px; max-width: 400px; margin: 0 auto;">
            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
                <button onclick="closeWorkoutTracker()" style="background: var(--lighter-bg); border: none; padding: 10px 15px; border-radius: 15px; cursor: pointer; color: var(--primary);">
                    ← Back
                </button>
                <h2 id="tracker-title" style="color: var(--dark); margin: 0; font-size: 18px; text-align: center;">Today's Workout</h2>
                <button onclick="finishWorkout()" style="background: var(--primary); color: white; border: none; padding: 10px 15px; border-radius: 15px; cursor: pointer; font-size: 12px;">
                    ✅ Finish
                </button>
            </div>
            
            <div id="tracker-content">
                <!-- Workout tracker content will be loaded here -->
            </div>
        </div>
    </div>
    
    <!-- 75 HARD TRACKER SCREEN -->
    <div class="screen-content" id="75hard-tracker" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--light-bg); z-index: 1000; overflow-y: auto;">
        <div style="padding: 20px; max-width: 400px; margin: 0 auto;">
            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
                <button onclick="close75HardTracker()" style="background: var(--lighter-bg); border: none; padding: 10px 15px; border-radius: 15px; cursor: pointer; color: var(--primary);">
                    ← Back
                </button>
                <h2 style="color: var(--dark); margin: 0; font-size: 18px; text-align: center;">75 HARD - Day <span id="hard-day">1</span></h2>
                <button onclick="complete75HardDay()" style="background: #C44569; color: white; border: none; padding: 10px 15px; border-radius: 15px; cursor: pointer; font-size: 12px;">
                    ✅ Complete
                </button>
            </div>
            
            <div id="75hard-content">
                <!-- 75 HARD tracker content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- NUTRITION GOAL SETTER MODAL -->
    <div id="nutrition-goal-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 9999; align-items: center; justify-content: center;">
        <div style="background: white; border-radius: 25px; padding: 30px; max-width: 450px; width: 90%; max-height: 85vh; overflow-y: auto; box-shadow: 0 10px 50px rgba(0,0,0,0.3); animation: slideUp 0.3s ease-out;">
            <div style="text-align: center; margin-bottom: 25px;">
                <h2 style="color: var(--primary); margin: 0 0 10px 0; font-size: 24px;">🎯 Set Your Nutrition Goals</h2>
                <p style="color: #666; font-size: 14px; margin: 0;">These targets will sync to your Calorie Tracker</p>
            </div>

            <!-- Calories Goal -->
            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 20px; padding: 20px; margin-bottom: 20px; box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);">
                <label style="display: block; color: white; font-weight: bold; margin-bottom: 10px; font-size: 16px;">🔥 Daily Calories</label>
                <input type="number" id="goal-calories" placeholder="e.g. 2000" style="width: 100%; padding: 15px; border: none; border-radius: 15px; font-size: 18px; font-weight: bold; text-align: center; box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);">
                <div style="text-align: center; margin-top: 8px; font-size: 12px; color: rgba(255,255,255,0.9);">Total daily energy target</div>
            </div>

            <!-- Macros Grid -->
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                <!-- Protein -->
                <div style="background: linear-gradient(135deg, #e74c3c, #c0392b); border-radius: 20px; padding: 20px; box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);">
                    <label style="display: block; color: white; font-weight: bold; margin-bottom: 10px; font-size: 14px;">🥩 Protein</label>
                    <input type="number" id="goal-protein" placeholder="150" style="width: 100%; padding: 12px; border: none; border-radius: 12px; font-size: 16px; font-weight: bold; text-align: center; box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);">
                    <div style="text-align: center; margin-top: 6px; font-size: 11px; color: rgba(255,255,255,0.9);">grams per day</div>
                </div>

                <!-- Carbs -->
                <div style="background: linear-gradient(135deg, #f39c12, #d68910); border-radius: 20px; padding: 20px; box-shadow: 0 5px 15px rgba(243, 156, 18, 0.3);">
                    <label style="display: block; color: white; font-weight: bold; margin-bottom: 10px; font-size: 14px;">🍞 Carbs</label>
                    <input type="number" id="goal-carbs" placeholder="225" style="width: 100%; padding: 12px; border: none; border-radius: 12px; font-size: 16px; font-weight: bold; text-align: center; box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);">
                    <div style="text-align: center; margin-top: 6px; font-size: 11px; color: rgba(255,255,255,0.9);">grams per day</div>
                </div>

                <!-- Fat -->
                <div style="background: linear-gradient(135deg, #27ae60, #229954); border-radius: 20px; padding: 20px; box-shadow: 0 5px 15px rgba(39, 174, 96, 0.3);">
                    <label style="display: block; color: white; font-weight: bold; margin-bottom: 10px; font-size: 14px;">🥑 Fat</label>
                    <input type="number" id="goal-fat" placeholder="67" style="width: 100%; padding: 12px; border: none; border-radius: 12px; font-size: 16px; font-weight: bold; text-align: center; box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);">
                    <div style="text-align: center; margin-top: 6px; font-size: 11px; color: rgba(255,255,255,0.9);">grams per day</div>
                </div>

                <!-- Sugar -->
                <div style="background: linear-gradient(135deg, #3498db, #2980b9); border-radius: 20px; padding: 20px; box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);">
                    <label style="display: block; color: white; font-weight: bold; margin-bottom: 10px; font-size: 14px;">🍭 Sugar Limit</label>
                    <input type="number" id="goal-sugar" placeholder="25" style="width: 100%; padding: 12px; border: none; border-radius: 12px; font-size: 16px; font-weight: bold; text-align: center; box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);">
                    <div style="text-align: center; margin-top: 6px; font-size: 11px; color: rgba(255,255,255,0.9);">grams per day</div>
                </div>
            </div>

            <!-- Quick Presets -->
            <div style="background: #f8f9ff; border-radius: 15px; padding: 15px; margin-bottom: 20px;">
                <div style="font-size: 13px; color: #666; margin-bottom: 10px; font-weight: bold;">⚡ Quick Presets:</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px;">
                    <button onclick="setPresetGoals('bulk')" style="background: white; color: #667eea; border: 2px solid #667eea; padding: 10px; border-radius: 10px; font-size: 12px; font-weight: bold; cursor: pointer;">💪 Bulk (3000 cal)</button>
                    <button onclick="setPresetGoals('cut')" style="background: white; color: #e74c3c; border: 2px solid #e74c3c; padding: 10px; border-radius: 10px; font-size: 12px; font-weight: bold; cursor: pointer;">🔥 Cut (1800 cal)</button>
                    <button onclick="setPresetGoals('maintain')" style="background: white; color: #27ae60; border: 2px solid #27ae60; padding: 10px; border-radius: 10px; font-size: 12px; font-weight: bold; cursor: pointer;">⚖️ Maintain (2200 cal)</button>
                    <button onclick="setPresetGoals('keto')" style="background: white; color: #9b59b6; border: 2px solid #9b59b6; padding: 10px; border-radius: 10px; font-size: 12px; font-weight: bold; cursor: pointer;">🥑 Keto (2000 cal)</button>
                </div>
            </div>

            <!-- Action Buttons -->
            <div style="display: flex; gap: 12px;">
                <button onclick="saveNutritionGoals()" style="flex: 1; background: linear-gradient(135deg, #4CAF50, #45a049); color: white; border: none; padding: 16px; border-radius: 18px; font-weight: bold; font-size: 16px; cursor: pointer; box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3); transition: all 0.3s;">
                    💾 Save Goals
                </button>
                <button onclick="closeNutritionGoalSetter()" style="background: #6c757d; color: white; border: none; padding: 16px 24px; border-radius: 18px; font-weight: bold; cursor: pointer;">
                    Cancel
                </button>
            </div>

            <div style="text-align: center; margin-top: 15px; font-size: 12px; color: #999;">
                💡 Tip: Adjust goals based on your activity level and fitness targets
            </div>
        </div>
    </div>


    <div class="overlay" onclick="toggleSidebar()" ontouchstart=""></div>

    <!-- Bottom Navigation Bar -->
    <div class="bottom-nav">
        <div class="nav-item" onclick="showLogFoodMenu()" ontouchstart="">
            <div class="nav-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" fill="none"/>
                    <path d="M12 3C12 3 16 8 16 12C16 14.2 14.2 16 12 16C9.8 16 8 14.2 8 12C8 8 12 3 12 3Z" stroke="currentColor" stroke-width="2" fill="none"/>
                </svg>
            </div>
            <div class="nav-label">Log Food</div>
            <div class="nav-glow"></div>
        </div>
        <div class="nav-item" onclick="window.location.href='workout-quiz.html'" ontouchstart="">
            <div class="nav-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="1" y="8" width="5" height="8" rx="1.5" fill="currentColor"/>
                    <rect x="18" y="8" width="5" height="8" rx="1.5" fill="currentColor"/>
                    <rect x="6" y="10.5" width="12" height="3" rx="1" fill="currentColor"/>
                    <circle cx="3.5" cy="12" r="2" fill="currentColor" stroke="#fff" stroke-width="1"/>
                    <circle cx="20.5" cy="12" r="2" fill="currentColor" stroke="#fff" stroke-width="1"/>
                </svg>
            </div>
            <div class="nav-label">Quick Workout</div>
            <div class="nav-glow"></div>
        </div>
        <div class="nav-item" onclick="window.location.href='meal-plans.html'" ontouchstart="">
            <div class="nav-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V7C19 5.89543 18.1046 5 17 5H15" stroke="currentColor" stroke-width="2"/>
                    <path d="M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M9 12H15M9 16H15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
            </div>
            <div class="nav-label">Meal Plan</div>
            <div class="nav-glow"></div>
        </div>
        <div class="nav-item" onclick="window.location.href='health-dashboard.html'" ontouchstart="">
            <div class="nav-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.27 2 8.5C2 5.41 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.08C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.41 22 8.5C22 12.27 18.6 15.36 13.45 20.03L12 21.35Z" fill="currentColor"/>
                </svg>
            </div>
            <div class="nav-label">Health</div>
            <div class="nav-glow"></div>
        </div>
    </div>

    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-brand">🔥 Well Fit</div>
        </div>
        <div class="sidebar-menu">
            <div class="menu-item active" onclick="showScreen('home')">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
                    <path d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M9 22V12H15V22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Home
            </div>
            <div class="menu-item" onclick="showScreen('create-workout')" ontouchstart="" style="touch-action: manipulation; -webkit-tap-highlight-color: rgba(0,0,0,0.1);">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
                    <rect x="2" y="9" width="4" height="6" rx="1" fill="currentColor"/>
                    <rect x="18" y="9" width="4" height="6" rx="1" fill="currentColor"/>
                    <rect x="6" y="11" width="12" height="2" rx="1" fill="currentColor"/>
                    <circle cx="4" cy="12" r="1.5" fill="#fff"/>
                    <circle cx="20" cy="12" r="1.5" fill="#fff"/>
                </svg>
                Create Workout
            </div>
            <div class="menu-item" onclick="showScreen('saved-workouts')">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
                    <path d="M19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9L11 5H19C19.5304 5 20.0391 5.21071 20.4142 5.58579C20.7893 5.96086 21 6.46957 21 7V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Saved Workouts
            </div>
            <div class="menu-item" onclick="showScreen('track-workouts')" ontouchstart="" style="touch-action: manipulation; -webkit-tap-highlight-color: rgba(0,0,0,0.1);">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
                    <path d="M3 3V18C3 18.5304 3.21071 19.0391 3.58579 19.4142C3.96086 19.7893 4.46957 20 5 20H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M7 14L12 9L16 13L21 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Track Workouts
            </div>
            <div class="menu-item" onclick="window.location.href='calorie-tracker.html'" ontouchstart="" style="touch-action: manipulation; -webkit-tap-highlight-color: rgba(0,0,0,0.1);">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
                    <path d="M13.5 0.67C13.5 0.67 14.24 3.32 14.24 5.47C14.24 7.53 12.89 9.2 10.83 9.2C8.76 9.2 7.2 7.53 7.2 5.47L7.23 5.1C5.21 7.5 4 10.61 4 14C4 19.5 8.5 24 14 24C19.5 24 24 19.5 24 14C24 8.36 18.37 3.29 13.5 0.67Z" fill="currentColor"/>
                </svg>
                Calorie Tracker
            </div>
            <div class="menu-item" onclick="window.location.href='health-dashboard.html'" ontouchstart="" style="touch-action: manipulation; -webkit-tap-highlight-color: rgba(0,0,0,0.1);">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
                    <path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.27 2 8.5C2 5.41 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.08C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.41 22 8.5C22 12.27 18.6 15.36 13.45 20.03L12 21.35Z" fill="currentColor"/>
                </svg>
                Health Dashboard
            </div>
            <div class="menu-item" onclick="window.location.href='enhanced-diet-quiz.html'">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/>
                    <circle cx="12" cy="12" r="2" fill="currentColor"/>
                    <path d="M12 2V12L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                Diet Creation
            </div>
            <div class="menu-item" onclick="window.location.href='meal-plans.html'">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
                    <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" fill="none"/>
                    <path d="M12 3C12 3 16 8 16 12C16 14.2 14.2 16 12 16C9.8 16 8 14.2 8 12C8 8 12 3 12 3Z" stroke="currentColor" stroke-width="2" fill="none"/>
                </svg>
                Meal Plans
            </div>
            <div class="menu-item" onclick="window.location.href='meal-ideas.html'">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
                    <circle cx="12" cy="12" r="5" stroke="currentColor" stroke-width="2" fill="none"/>
                    <path d="M12 1V3M12 21V23M23 12H21M3 12H1M20.49 3.51L18.36 5.64M5.64 18.36L3.51 20.49M20.49 20.49L18.36 18.36M5.64 5.64L3.51 3.51" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                Meal Ideas
            </div>
            <div class="menu-item" onclick="window.location.href='supplements.html'">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
                    <rect x="9" y="2" width="6" height="20" rx="3" stroke="currentColor" stroke-width="2" fill="none"/>
                    <path d="M9 8H15M9 12H15M9 16H15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                Supplements
            </div>
            <div class="menu-item" onclick="window.location.href='workout-techniques.html'">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
                    <circle cx="8" cy="8" r="2" fill="currentColor"/>
                    <path d="M8 10V14M8 14L6 20M8 14L10 20M8 14L12 12M12 12L10 6M12 12L14 6M12 12L16 14M16 14L14 20M16 14L18 20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Workout Techniques
            </div>
            <div class="menu-item" onclick="showScreen('progress')" ontouchstart="" style="touch-action: manipulation; -webkit-tap-highlight-color: rgba(0,0,0,0.1);">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
                    <path d="M18 20V10M12 20V4M6 20V14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Goals & Progress
            </div>
        </div>
    </div>

    <script>
        // Load correct screen IMMEDIATELY based on hash - before anything else
        document.addEventListener('DOMContentLoaded', function() {
            const hash = window.location.hash.substring(1);

            // Hide all screens first
            document.querySelectorAll('.screen-content').forEach(s => s.classList.remove('active'));

            // If there's a hash, show that screen
            if (hash && document.getElementById(hash)) {
                showScreen(hash);
            } else {
                // Otherwise show home by default
                document.getElementById('home').classList.add('active');
            }
        });
    </script>

    <script src="app.js?v=3.0"></script>

    <script>
        // ==================== NUTRITION GOALS SYSTEM ====================

        // Show the nutrition goal setter modal
        function showNutritionGoalSetter() {
            const modal = document.getElementById('nutrition-goal-modal');
            if (modal) {
                modal.style.display = 'flex';
                loadCurrentGoals();
            }
        }

        // Close the nutrition goal setter modal
        function closeNutritionGoalSetter() {
            const modal = document.getElementById('nutrition-goal-modal');
            if (modal) {
                modal.style.display = 'none';
            }
        }

        // Load current goals into the form
        function loadCurrentGoals() {
            const goals = JSON.parse(localStorage.getItem('fuelfire_nutrition_goals')) || {
                calories: 2000,
                protein: 150,
                carbs: 225,
                fat: 67,
                sugar: 25
            };

            document.getElementById('goal-calories').value = goals.calories;
            document.getElementById('goal-protein').value = goals.protein;
            document.getElementById('goal-carbs').value = goals.carbs;
            document.getElementById('goal-fat').value = goals.fat;
            document.getElementById('goal-sugar').value = goals.sugar;
        }

        // Save nutrition goals to localStorage
        function saveNutritionGoals() {
            const goals = {
                calories: parseInt(document.getElementById('goal-calories').value) || 2000,
                protein: parseInt(document.getElementById('goal-protein').value) || 150,
                carbs: parseInt(document.getElementById('goal-carbs').value) || 225,
                fat: parseInt(document.getElementById('goal-fat').value) || 67,
                sugar: parseInt(document.getElementById('goal-sugar').value) || 25
            };

            localStorage.setItem('fuelfire_nutrition_goals', JSON.stringify(goals));

            // Show success message
            const saveBtn = event.target;
            const originalText = saveBtn.innerHTML;
            saveBtn.innerHTML = '✅ Goals Saved!';
            saveBtn.style.background = '#27ae60';

            setTimeout(() => {
                saveBtn.innerHTML = originalText;
                saveBtn.style.background = 'linear-gradient(135deg, #4CAF50, #45a049)';
            }, 2000);

            // Update display
            displayNutritionGoals();

            // Close modal after 2 seconds
            setTimeout(() => {
                closeNutritionGoalSetter();
            }, 2000);
        }

        // Set preset goals
        function setPresetGoals(preset) {
            let goals;
            switch(preset) {
                case 'bulk':
                    goals = { calories: 3000, protein: 200, carbs: 350, fat: 90, sugar: 30 };
                    break;
                case 'cut':
                    goals = { calories: 1800, protein: 150, carbs: 150, fat: 60, sugar: 20 };
                    break;
                case 'maintain':
                    goals = { calories: 2200, protein: 165, carbs: 220, fat: 73, sugar: 25 };
                    break;
                case 'keto':
                    goals = { calories: 2000, protein: 130, carbs: 40, fat: 155, sugar: 15 };
                    break;
                default:
                    goals = { calories: 2000, protein: 150, carbs: 225, fat: 67, sugar: 25 };
            }

            document.getElementById('goal-calories').value = goals.calories;
            document.getElementById('goal-protein').value = goals.protein;
            document.getElementById('goal-carbs').value = goals.carbs;
            document.getElementById('goal-fat').value = goals.fat;
            document.getElementById('goal-sugar').value = goals.sugar;
        }

        // Display nutrition goals on the progress screen
        function displayNutritionGoals() {
            const goals = JSON.parse(localStorage.getItem('fuelfire_nutrition_goals')) || {
                calories: 2000,
                protein: 150,
                carbs: 225,
                fat: 67,
                sugar: 25
            };

            const display = document.getElementById('nutrition-goals-display');
            if (display) {
                display.innerHTML = `
                    <div style="display: flex; flex-direction: column; align-items: center; gap: 12px; padding-left: 15px;">
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; width: 95%;">
                            <div style="background: rgba(255,255,255,0.95); border-radius: 12px; padding: 12px; text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,0.15);">
                                <div style="font-size: 26px; font-weight: bold; color: #667eea; margin-bottom: 4px;">${goals.calories}</div>
                                <div style="font-size: 11px; color: #666; font-weight: 600;">🔥 Calories</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.95); border-radius: 12px; padding: 12px; text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,0.15);">
                                <div style="font-size: 26px; font-weight: bold; color: #e74c3c; margin-bottom: 4px;">${goals.protein}g</div>
                                <div style="font-size: 11px; color: #666; font-weight: 600;">🥩 Protein</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.95); border-radius: 12px; padding: 12px; text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,0.15);">
                                <div style="font-size: 26px; font-weight: bold; color: #f39c12; margin-bottom: 4px;">${goals.carbs}g</div>
                                <div style="font-size: 11px; color: #666; font-weight: 600;">🍞 Carbs</div>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; width: 63%;">
                            <div style="background: rgba(255,255,255,0.95); border-radius: 12px; padding: 12px; text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,0.15);">
                                <div style="font-size: 26px; font-weight: bold; color: #27ae60; margin-bottom: 4px;">${goals.fat}g</div>
                                <div style="font-size: 11px; color: #666; font-weight: 600;">🥑 Fat</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.95); border-radius: 12px; padding: 12px; text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,0.15);">
                                <div style="font-size: 26px; font-weight: bold; color: #3498db; margin-bottom: 4px;">${goals.sugar}g</div>
                                <div style="font-size: 11px; color: #666; font-weight: 600;">🍭 Sugar</div>
                            </div>
                        </div>
                    </div>
                `;
            }
        }

        // Edit nutrition goals
        function editNutritionGoals() {
            const currentGoals = JSON.parse(localStorage.getItem('fuelfire_nutrition_goals') || '{}');

            const calories = prompt('Daily Calorie Goal:', currentGoals.calories || 2000);
            if (!calories || isNaN(calories)) return;

            const protein = prompt('Daily Protein Goal (grams):', currentGoals.protein || 150);
            if (!protein || isNaN(protein)) return;

            const carbs = prompt('Daily Carbs Goal (grams):', currentGoals.carbs || 225);
            if (!carbs || isNaN(carbs)) return;

            const fat = prompt('Daily Fat Goal (grams):', currentGoals.fat || 67);
            if (!fat || isNaN(fat)) return;

            const sugar = prompt('Daily Sugar Limit (grams):', currentGoals.sugar || 25);
            if (!sugar || isNaN(sugar)) return;

            // Save the goals
            const newGoals = {
                calories: parseInt(calories),
                protein: parseInt(protein),
                carbs: parseInt(carbs),
                fat: parseInt(fat),
                sugar: parseInt(sugar)
            };

            localStorage.setItem('fuelfire_nutrition_goals', JSON.stringify(newGoals));
            displayNutritionGoals();
            alert('✅ Nutrition goals updated!');
        }

        // Delete nutrition goals
        function deleteNutritionGoals() {
            if (confirm('Are you sure you want to delete your nutrition goals? This will reset them to defaults.')) {
                localStorage.removeItem('fuelfire_nutrition_goals');
                displayNutritionGoals();

                // Show confirmation
                alert('✅ Nutrition goals have been reset to defaults!');
            }
        }

        // ==================== WEIGHT & BODY FAT TRACKING ====================

        // Edit weight
        function editWeight() {
            const currentWeight = prompt('Enter your current weight (lbs):', getCurrentWeight() || '');
            if (currentWeight && !isNaN(currentWeight)) {
                const weightGoal = prompt('Enter your goal weight (lbs, optional):', getWeightGoal() || '');
                saveWeightEntry(parseFloat(currentWeight), weightGoal ? parseFloat(weightGoal) : null);
                loadWeightStats();
            }
        }

        // Edit body fat
        function editBodyFat() {
            const currentBF = prompt('Enter your current body fat % (e.g., 18.5):', getCurrentBodyFat() || '');
            if (currentBF && !isNaN(currentBF)) {
                const bfGoal = prompt('Enter your goal body fat % (optional):', getBodyFatGoal() || '');
                saveBodyFatEntry(parseFloat(currentBF), bfGoal ? parseFloat(bfGoal) : null);
                loadBodyFatStats();
            }
        }

        // Get current values
        function getCurrentWeight() {
            const stats = JSON.parse(localStorage.getItem('fuelfire_body_stats') || '{}');
            return stats.currentWeight || null;
        }

        function getCurrentBodyFat() {
            const stats = JSON.parse(localStorage.getItem('fuelfire_body_stats') || '{}');
            return stats.currentBodyFat || null;
        }

        function getWeightGoal() {
            const stats = JSON.parse(localStorage.getItem('fuelfire_body_stats') || '{}');
            return stats.weightGoal || null;
        }

        function getBodyFatGoal() {
            const stats = JSON.parse(localStorage.getItem('fuelfire_body_stats') || '{}');
            return stats.bodyFatGoal || null;
        }

        // Save weight entry
        function saveWeightEntry(weight, goal) {
            const stats = JSON.parse(localStorage.getItem('fuelfire_body_stats') || '{}');
            const history = stats.weightHistory || [];

            // Add new entry with timestamp
            history.push({
                weight: weight,
                date: new Date().toISOString()
            });

            stats.currentWeight = weight;
            stats.weightHistory = history;
            if (goal !== null) stats.weightGoal = goal;

            localStorage.setItem('fuelfire_body_stats', JSON.stringify(stats));
        }

        // Save body fat entry
        function saveBodyFatEntry(bodyFat, goal) {
            const stats = JSON.parse(localStorage.getItem('fuelfire_body_stats') || '{}');
            const history = stats.bodyFatHistory || [];

            // Add new entry with timestamp
            history.push({
                bodyFat: bodyFat,
                date: new Date().toISOString()
            });

            stats.currentBodyFat = bodyFat;
            stats.bodyFatHistory = history;
            if (goal !== null) stats.bodyFatGoal = goal;

            localStorage.setItem('fuelfire_body_stats', JSON.stringify(stats));
        }

        // Load weight stats and display
        function loadWeightStats() {
            const stats = JSON.parse(localStorage.getItem('fuelfire_body_stats') || '{}');
            const weightEl = document.getElementById('current-weight');
            const trendEl = document.getElementById('weight-trend');

            if (stats.currentWeight) {
                weightEl.textContent = stats.currentWeight + ' lbs';

                // Calculate trend
                const history = stats.weightHistory || [];
                if (history.length >= 2) {
                    const previous = history[history.length - 2].weight;
                    const change = stats.currentWeight - previous;
                    const arrow = change > 0 ? '📈' : change < 0 ? '📉' : '➡️';
                    trendEl.textContent = `${arrow} ${change > 0 ? '+' : ''}${change.toFixed(1)} lbs`;
                } else if (stats.weightGoal) {
                    const toGo = stats.weightGoal - stats.currentWeight;
                    trendEl.textContent = `🎯 ${Math.abs(toGo).toFixed(1)} lbs to goal`;
                } else {
                    trendEl.textContent = 'First entry';
                }
            } else {
                weightEl.textContent = '--';
                trendEl.textContent = 'Tap to track';
            }
        }

        // Load body fat stats and display
        function loadBodyFatStats() {
            const stats = JSON.parse(localStorage.getItem('fuelfire_body_stats') || '{}');
            const bfEl = document.getElementById('current-bodyfat');
            const trendEl = document.getElementById('bodyfat-trend');

            if (stats.currentBodyFat) {
                bfEl.textContent = stats.currentBodyFat + '%';

                // Calculate trend
                const history = stats.bodyFatHistory || [];
                if (history.length >= 2) {
                    const previous = history[history.length - 2].bodyFat;
                    const change = stats.currentBodyFat - previous;
                    const arrow = change > 0 ? '📈' : change < 0 ? '📉' : '➡️';
                    trendEl.textContent = `${arrow} ${change > 0 ? '+' : ''}${change.toFixed(1)}%`;
                } else if (stats.bodyFatGoal) {
                    const toGo = stats.bodyFatGoal - stats.currentBodyFat;
                    trendEl.textContent = `🎯 ${Math.abs(toGo).toFixed(1)}% to goal`;
                } else {
                    trendEl.textContent = 'First entry';
                }
            } else {
                bfEl.textContent = '--';
                trendEl.textContent = 'Tap to track';
            }
        }

        // Load journey stats
        function loadJourneyStats() {
            // Workouts completed
            const workouts = JSON.parse(localStorage.getItem('fuelfire_tracked_workouts') || '[]');
            const workoutsEl = document.getElementById('workouts-completed');
            if (workoutsEl) workoutsEl.textContent = workouts.length;

            // Current streak
            const streak = calculateWorkoutStreak(workouts);
            const streakEl = document.getElementById('current-streak');
            if (streakEl) streakEl.textContent = streak;
        }

        // Calculate workout streak
        function calculateWorkoutStreak(workouts) {
            if (!workouts || workouts.length === 0) return 0;

            // Sort workouts by date (most recent first)
            const sortedWorkouts = workouts
                .map(w => new Date(w.date))
                .sort((a, b) => b - a);

            let streak = 0;
            let currentDate = new Date();
            currentDate.setHours(0, 0, 0, 0);

            for (let workout of sortedWorkouts) {
                const workoutDate = new Date(workout);
                workoutDate.setHours(0, 0, 0, 0);

                const diffDays = Math.floor((currentDate - workoutDate) / (1000 * 60 * 60 * 24));

                if (diffDays === streak) {
                    streak++;
                    currentDate.setDate(currentDate.getDate() - 1);
                } else if (diffDays > streak) {
                    break;
                }
            }

            return streak;
        }

        // Load all progress data when progress screen is shown
        window.addEventListener('load', function() {
            displayNutritionGoals();
            loadWeightStats();
            loadBodyFatStats();
            loadJourneyStats();
            loadHomeHealthData();
        });

        // Load Apple Health data for home page
        async function loadHomeHealthData() {
            try {
                // First, load cached data for instant display
                const cached = localStorage.getItem('healthData');
                if (cached) {
                    const data = JSON.parse(cached);
                    updateHomeHealthUI(data);
                }

                // Then, auto-sync in the background if health sync is available
                if (window.healthSync) {
                    // Initialize health sync
                    const initialized = await window.healthSync.initialize();
                    if (initialized) {
                        // Silently sync in background (no permission prompt if already granted)
                        const data = await window.healthSync.syncAllData();
                        if (data) {
                            updateHomeHealthUI(data);
                            console.log('✅ Health data auto-synced on home page');
                        }
                    }
                }
            } catch (error) {
                console.log('Health auto-sync skipped:', error);
            }
        }

        function updateHomeHealthUI(data) {
            // Update steps display
            const stepsEl = document.getElementById('home-steps');
            if (stepsEl && data.steps !== undefined) {
                stepsEl.textContent = data.steps.toLocaleString();
            }

            // Update calories burned display
            const caloriesBurnedEl = document.getElementById('home-calories-burned');
            if (caloriesBurnedEl && data.caloriesBurned !== undefined) {
                caloriesBurnedEl.textContent = data.caloriesBurned.toLocaleString();
            }

            // Sync workout calories to daily calorie budget
            if (data.caloriesBurned && data.caloriesBurned > 0) {
                syncWorkoutCaloriesToDailyBudget(data.caloriesBurned);
            }

            // Update the home calories display with food calories
            updateHomeFoodCalories();
        }

        // Sync workout calories from Apple Health to daily calorie budget
        function syncWorkoutCaloriesToDailyBudget(caloriesBurned) {
            try {
                // Get today's date key
                const today = new Date().toISOString().split('T')[0];

                // Get or create daily nutrition data
                let dailyNutrition = JSON.parse(localStorage.getItem('dailyNutrition') || '{}');

                if (!dailyNutrition[today]) {
                    dailyNutrition[today] = {
                        calories: 0,
                        protein: 0,
                        carbs: 0,
                        fat: 0,
                        meals: [],
                        workoutCaloriesBurned: 0
                    };
                }

                // Store workout calories separately (don't double-count)
                dailyNutrition[today].workoutCaloriesBurned = caloriesBurned;

                // Save back to localStorage
                localStorage.setItem('dailyNutrition', JSON.stringify(dailyNutrition));

                console.log(`✅ Synced ${caloriesBurned} workout calories from Apple Health`);
            } catch (error) {
                console.error('Error syncing workout calories:', error);
            }
        }

        // Update home food calories display
        function updateHomeFoodCalories() {
            try {
                const today = new Date().toISOString().split('T')[0];
                const dailyNutrition = JSON.parse(localStorage.getItem('dailyNutrition') || '{}');
                const todayData = dailyNutrition[today] || { calories: 0, protein: 0, carbs: 0, fat: 0 };

                // Update displays
                const homeCalories = document.getElementById('home-calories');
                const homeProtein = document.getElementById('home-protein');
                const homeCarbs = document.getElementById('home-carbs');
                const homeFat = document.getElementById('home-fat');

                if (homeCalories) homeCalories.textContent = Math.round(todayData.calories).toLocaleString();
                if (homeProtein) homeProtein.textContent = Math.round(todayData.protein) + 'g';
                if (homeCarbs) homeCarbs.textContent = Math.round(todayData.carbs) + 'g';
                if (homeFat) homeFat.textContent = Math.round(todayData.fat) + 'g';
            } catch (error) {
                console.error('Error updating home food calories:', error);
            }
        }

        // Also update when showScreen('progress') is called
        const originalShowScreen = window.showScreen;
        if (originalShowScreen) {
            window.showScreen = function(screenId) {
                originalShowScreen(screenId);
                if (screenId === 'progress') {
                    displayNutritionGoals();
                    loadWeightStats();
                    loadBodyFatStats();
                    loadJourneyStats();
                    loadPRs();
                }
            };
        }

        // Navigation helper function
        function goToPage(page) {
            window.location.href = page;
        }

        // ==================== PERSONAL RECORDS TRACKING ====================

        // Add new PR
        function addPR() {
            const exercise = prompt('Exercise name (e.g., Bench Press, Squat, Deadlift):');
            if (!exercise || exercise.trim() === '') return;

            const weight = prompt('Weight (lbs):');
            if (!weight || isNaN(weight)) {
                alert('Please enter a valid weight');
                return;
            }

            const reps = prompt('Reps (optional, press OK to skip):', '1');
            const finalReps = reps && !isNaN(reps) ? parseInt(reps) : 1;

            const goal = prompt('Goal weight (optional - your dream lift!):', '');
            const finalGoal = goal && !isNaN(goal) ? parseFloat(goal) : null;

            const pr = {
                id: Date.now(),
                exercise: exercise.trim(),
                weight: parseFloat(weight),
                reps: finalReps,
                goal: finalGoal,
                date: new Date().toISOString()
            };

            savePR(pr);
            loadPRs();
        }

        // Save PR to localStorage
        function savePR(pr) {
            const prs = JSON.parse(localStorage.getItem('fuelfire_personal_records') || '[]');
            prs.push(pr);
            localStorage.setItem('fuelfire_personal_records', JSON.stringify(prs));
        }

        // Load and display PRs
        function loadPRs() {
            const prs = JSON.parse(localStorage.getItem('fuelfire_personal_records') || '[]');
            const prList = document.getElementById('pr-list');
            const emptyState = document.getElementById('pr-empty-state');

            if (!prList || !emptyState) return;

            if (prs.length === 0) {
                prList.style.display = 'none';
                emptyState.style.display = 'block';
                return;
            }

            prList.style.display = 'flex';
            emptyState.style.display = 'none';

            // Group PRs by exercise and get the best for each
            const prsByExercise = {};
            prs.forEach(pr => {
                if (!prsByExercise[pr.exercise]) {
                    prsByExercise[pr.exercise] = [];
                }
                prsByExercise[pr.exercise].push(pr);
            });

            // Build PR cards
            prList.innerHTML = Object.keys(prsByExercise).map(exercise => {
                const exercisePRs = prsByExercise[exercise].sort((a, b) => b.weight - a.weight);
                const bestPR = exercisePRs[0];
                const improvement = exercisePRs.length > 1 ? bestPR.weight - exercisePRs[exercisePRs.length - 1].weight : 0;

                // Goal tracking
                const hasGoal = bestPR.goal && bestPR.goal > bestPR.weight;
                let goalHTML = '';
                let progressColor = '#FFA500';

                if (hasGoal) {
                    const toGo = bestPR.goal - bestPR.weight;
                    const percentage = Math.min(100, Math.round((bestPR.weight / bestPR.goal) * 100));

                    // Color based on progress: red (<60%), yellow (60-85%), green (>85%)
                    if (percentage >= 85) progressColor = '#27ae60';
                    else if (percentage >= 60) progressColor = '#f39c12';
                    else progressColor = '#e74c3c';

                    goalHTML = `
                        <div style="margin-top: 10px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                                <div style="font-size: 11px; color: #666; font-weight: 600;">Goal: ${bestPR.goal} lbs</div>
                                <div style="font-size: 11px; color: ${progressColor}; font-weight: bold;">${percentage}%</div>
                            </div>
                            <div style="background: #e0e0e0; border-radius: 10px; height: 8px; overflow: hidden;">
                                <div style="background: ${progressColor}; width: ${percentage}%; height: 100%; border-radius: 10px; transition: width 0.3s ease;"></div>
                            </div>
                            <div style="font-size: 10px; color: ${progressColor}; margin-top: 4px; font-weight: 600;">${toGo > 0 ? toGo.toFixed(1) + ' lbs to go! 💪' : 'Goal reached! 🎉'}</div>
                        </div>
                    `;
                }

                return `
                    <div style="background: rgba(255,255,255,0.95); border-radius: 15px; padding: 15px; box-shadow: 0 3px 10px rgba(0,0,0,0.2);">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;">
                            <div style="flex: 1;">
                                <div style="font-size: 16px; font-weight: bold; color: #333; margin-bottom: 5px;">${exercise}</div>
                                <div style="font-size: 22px; font-weight: bold; color: ${progressColor};">${bestPR.weight} lbs ${bestPR.reps > 1 ? 'x ' + bestPR.reps : ''}</div>
                                ${improvement > 0 ? `<div style="font-size: 11px; color: #27ae60; margin-top: 3px;">📈 +${improvement} lbs improvement</div>` : ''}
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button onclick="updatePR('${exercise}')" style="background: #4ECDC4; color: white; border: none; padding: 8px 12px; border-radius: 10px; font-size: 12px; font-weight: bold; cursor: pointer;">📝</button>
                                <button onclick="setGoalPR('${exercise}')" style="background: #667eea; color: white; border: none; padding: 8px 12px; border-radius: 10px; font-size: 12px; font-weight: bold; cursor: pointer;">🎯</button>
                                <button onclick="deletePR('${exercise}')" style="background: #e74c3c; color: white; border: none; padding: 8px 12px; border-radius: 10px; font-size: 12px; font-weight: bold; cursor: pointer;">🗑️</button>
                            </div>
                        </div>
                        ${goalHTML}
                    </div>
                `;
            }).join('');
        }

        // Update PR for an exercise
        function updatePR(exercise) {
            const weight = prompt(`New PR for ${exercise} - Weight (lbs):`);
            if (!weight || isNaN(weight)) {
                alert('Please enter a valid weight');
                return;
            }

            const reps = prompt('Reps (optional, press OK to skip):', '1');
            const finalReps = reps && !isNaN(reps) ? parseInt(reps) : 1;

            const pr = {
                id: Date.now(),
                exercise: exercise,
                weight: parseFloat(weight),
                reps: finalReps,
                date: new Date().toISOString()
            };

            savePR(pr);
            loadPRs();
        }

        // Set goal for an exercise
        function setGoalPR(exercise) {
            const goal = prompt(`Set your goal weight for ${exercise}:`, '');
            if (!goal || isNaN(goal)) {
                alert('Please enter a valid goal weight');
                return;
            }

            // Update the most recent PR with the goal
            const prs = JSON.parse(localStorage.getItem('fuelfire_personal_records') || '[]');
            const exercisePRs = prs.filter(pr => pr.exercise === exercise);

            if (exercisePRs.length > 0) {
                // Update all PRs for this exercise with the goal
                prs.forEach(pr => {
                    if (pr.exercise === exercise) {
                        pr.goal = parseFloat(goal);
                    }
                });

                localStorage.setItem('fuelfire_personal_records', JSON.stringify(prs));
                loadPRs();
            }
        }

        // Delete all PRs for an exercise
        function deletePR(exercise) {
            if (!confirm(`Delete all records for ${exercise}?`)) return;

            const prs = JSON.parse(localStorage.getItem('fuelfire_personal_records') || '[]');
            const filtered = prs.filter(pr => pr.exercise !== exercise);
            localStorage.setItem('fuelfire_personal_records', JSON.stringify(filtered));
            loadPRs();
        }

        // Load PRs when page loads
        window.addEventListener('load', function() {
            loadPRs();
        });

        // Log Food Menu Functions
        function showLogFoodMenu() {
            document.getElementById('logFoodModal').style.display = 'flex';
        }

        function closeLogFoodMenu() {
            document.getElementById('logFoodModal').style.display = 'none';
        }

        function navigateToLogFood(mode) {
            // Navigate to calorie tracker with the selected mode
            window.location.href = `calorie-tracker.html?mode=${mode}`;
        }
    </script>

    <!-- Log Food Menu Modal -->
    <div id="logFoodModal" class="log-food-modal" onclick="closeLogFoodMenu()">
        <div class="log-food-menu" onclick="event.stopPropagation()">
            <div class="log-food-header">
                <h2>Log Your Food</h2>
                <button class="close-btn" onclick="closeLogFoodMenu()">✕</button>
            </div>
            <div class="log-food-options">
                <div class="log-option" onclick="navigateToLogFood('scan')">
                    <div class="log-option-icon">📷</div>
                    <div class="log-option-title">Scan Barcode</div>
                    <div class="log-option-desc">Quick scan of packaged foods</div>
                </div>
                <div class="log-option" onclick="navigateToLogFood('voice')">
                    <div class="log-option-icon">🎤</div>
                    <div class="log-option-title">Voice Log</div>
                    <div class="log-option-desc">Speak your meal naturally</div>
                </div>
                <div class="log-option" onclick="navigateToLogFood('manual')">
                    <div class="log-option-icon">✍️</div>
                    <div class="log-option-title">Manual Entry</div>
                    <div class="log-option-desc">Type nutrition details</div>
                </div>
            </div>
        </div>
    </div>

</body>
</html>